ansible-playbook 2.9.9
  config file = /etc/ansible/ansible.cfg
  configured module search path = [u'/root/.ansible/plugins/modules', u'/usr/share/ansible/plugins/modules']
  ansible python module location = /usr/lib/python2.7/site-packages/ansible
  executable location = /usr/bin/ansible-playbook
  python version = 2.7.16 (default, Dec 12 2019, 23:58:22) [GCC 7.3.1 20180712 (Red Hat 7.3.1-6)]
Using /etc/ansible/ansible.cfg as config file
host_list declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
script declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
auto declined parsing /etc/ansible/hosts as it did not pass its verify_file() method
[WARNING]: Invalid characters were found in group names but not replaced, use -vvvv to see details
Parsed /etc/ansible/hosts inventory source with ini plugin

PLAYBOOK: swarm-init.yml ****************************************************************************************************************
3 plays in swarm-init.yml

PLAY [Swarm Cluster Initialize Script] **************************************************************************************************

TASK [Gathering Facts] ******************************************************************************************************************
task path: /etc/ansible/swarm-init.yml:3
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472147.91-25083-267805177277905 && echo ansible-tmp-1589472147.91-25083-267805177277905="` echo /root/.ansible/tmp/ansible-tmp-1589472147.91-25083-267805177277905 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472147.91-25083-267805177277905=/root/.ansible/tmp/ansible-tmp-1589472147.91-25083-267805177277905\n', '')
<docker> Attempting python interpreter discovery
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo PLATFORM; uname; echo FOUND; command -v '"'"'"'"'"'"'"'"'/usr/bin/python'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.7'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.6'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.5'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python2.7'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python2.6'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/libexec/platform-python'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/bin/python3'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python'"'"'"'"'"'"'"'"'; echo ENDFOUND && sleep 0'"'"''
<docker> (0, 'PLATFORM\nLinux\nFOUND\n/usr/bin/python\n/usr/bin/python3.7\n/usr/bin/python2.7\n/usr/bin/python3\n/usr/bin/python\nENDFOUND\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'/usr/bin/python && sleep 0'"'"''
<docker> (0, '{"osrelease_content": "NAME=\\"Amazon Linux\\"\\nVERSION=\\"2\\"\\nID=\\"amzn\\"\\nID_LIKE=\\"centos rhel fedora\\"\\nVERSION_ID=\\"2\\"\\nPRETTY_NAME=\\"Amazon Linux 2\\"\\nANSI_COLOR=\\"0;33\\"\\nCPE_NAME=\\"cpe:2.3:o:amazon:amazon_linux:2\\"\\nHOME_URL=\\"https://amazonlinux.com/\\"\\n", "platform_dist_result": ["", "", ""]}\n', '')
<docker> Python interpreter discovery fallback (unsupported Linux distribution: amzn)
Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpgKhW0a TO /root/.ansible/tmp/ansible-tmp-1589472147.91-25083-267805177277905/AnsiballZ_setup.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpgKhW0a /root/.ansible/tmp/ansible-tmp-1589472147.91-25083-267805177277905/AnsiballZ_setup.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472147.91-25083-267805177277905/ /root/.ansible/tmp/ansible-tmp-1589472147.91-25083-267805177277905/AnsiballZ_setup.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472147.91-25083-267805177277905/AnsiballZ_setup.py && sleep 0'"'"''
<docker> (0, '\r\n{"invocation": {"module_args": {"filter": "*", "gather_subset": ["all"], "fact_path": "/etc/ansible/facts.d", "gather_timeout": 10}}, "ansible_facts": {"ansible_fibre_channel_wwn": [], "module_setup": true, "ansible_distribution_version": "2", "ansible_distribution_file_variety": "Amazon", "ansible_env": {"LANG": "en_US.UTF-8", "TERM": "xterm", "SHELL": "/bin/bash", "XDG_RUNTIME_DIR": "/run/user/0", "SHLVL": "2", "SSH_TTY": "/dev/pts/3", "PWD": "/root", "LESSOPEN": "||/usr/bin/lesspipe.sh %s", "XDG_SESSION_ID": "75", "SSH_CLIENT": "172.31.24.219 35742 22", "LOGNAME": "root", "USER": "root", "MAIL": "/var/mail/root", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=01;36:*.xspf=01;36:", "HOME": "/root", "_": "/usr/bin/python", "SSH_CONNECTION": "172.31.24.219 35742 172.31.24.219 22"}, "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_default_ipv4": {"macaddress": "02:22:61:6c:e6:4c", "network": "172.31.16.0", "mtu": 9001, "broadcast": "172.31.31.255", "alias": "eth0", "netmask": "255.255.240.0", "address": "172.31.24.219", "interface": "eth0", "type": "ether", "gateway": "172.31.16.1"}, "ansible_swapfree_mb": 0, "ansible_default_ipv6": {}, "ansible_br_6f05936f4caf": {"macaddress": "02:42:c7:6f:58:f1", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "on", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": [], "id": "8000.0242c76f58f1", "mtu": 1500, "device": "br-6f05936f4caf", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.28.255.255", "netmask": "255.255.0.0", "network": "172.28.0.0", "address": "172.28.0.1"}, "active": false, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_cmdline": {"console": "ttyS0,115200n8", "rd.emergency": "poweroff", "net.ifnames": "0", "biosdevname": "0", "rd.shell": "0", "BOOT_IMAGE": "/boot/vmlinuz-4.14.171-136.231.amzn2.x86_64", "ro": true, "root": "UUID=e75a1891-3463-448b-8f59-5e3353af90ba", "nvme_core.io_timeout": "4294967295"}, "ansible_machine_id": "ec214dee1f497e5a0c3f972da49e4684", "ansible_userspace_architecture": "x86_64", "ansible_product_uuid": "EC21CE3F-BA31-F50A-A962-5CDD15F103DA", "ansible_pkg_mgr": "yum", "ansible_docker_gwbridge": {"macaddress": "02:42:16:62:8b:b8", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "on", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": [], "id": "8000.024216628bb8", "mtu": 1500, "device": "docker_gwbridge", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.19.255.255", "netmask": "255.255.0.0", "network": "172.19.0.0", "address": "172.19.0.1"}, "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::42:16ff:fe62:8bb8"}], "active": false, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_distribution": "Amazon", "ansible_iscsi_iqn": "", "ansible_all_ipv6_addresses": ["fe80::42:16ff:fe62:8bb8", "fe80::22:61ff:fe6c:e64c"], "ansible_uptime_seconds": 19137, "ansible_kernel": "4.14.171-136.231.amzn2.x86_64", "ansible_system_capabilities_enforced": "True", "ansible_python": {"executable": "/usr/bin/python", "version": {"micro": 16, "major": 2, "releaselevel": "final", "serial": 0, "minor": 7}, "type": "CPython", "has_sslcontext": true, "version_info": [2, 7, 16, "final", 0]}, "ansible_is_chroot": false, "ansible_hostnqn": "", "ansible_user_shell": "/bin/bash", "ansible_product_serial": "ec21ce3f-ba31-f50a-a962-5cdd15f103da", "ansible_form_factor": "Other", "ansible_distribution_file_parsed": true, "ansible_fips": false, "ansible_user_id": "root", "ansible_selinux_python_present": false, "ansible_kernel_version": "#1 SMP Thu Feb 27 20:22:48 UTC 2020", "ansible_local": {}, "ansible_processor_vcpus": 1, "ansible_docker0": {"macaddress": "02:42:cd:ae:b2:86", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "on", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": [], "id": "8000.0242cdaeb286", "mtu": 1500, "device": "docker0", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.17.255.255", "netmask": "255.255.0.0", "network": "172.17.0.0", "address": "172.17.0.1"}, "active": false, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_processor": ["0", "GenuineIntel", "Intel(R) Xeon(R) CPU E5-2676 v3 @ 2.40GHz"], "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBGO2FpQMfT113vKnUUj+dATz9FyLsnR09mx1Jlb+5u6PUkUUHsaN9sbJRnilpcKFsxPZ+0V+xe09bujRdb/0CuM=", "ansible_user_gid": 0, "ansible_system_vendor": "Xen", "ansible_swaptotal_mb": 0, "ansible_distribution_major_version": "2", "ansible_real_group_id": 0, "ansible_lsb": {}, "ansible_machine": "x86_64", "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABAQC7hysOjkrmxfDhNB092Er1ceyQ87+KY1YLaVn1UMuVKBXWou81X5XNQYlCunlQoNSPZ5XDZwUksijMG1EaVZ6x+vrmHbEkj7tUftVkxuhU0n28FnXGK33W+Gphh4YHi+vW9ao02DFI7YL/JncXG6pyUC2JxtDLC8mbqHFu10cVvnR1zSGZGqMvNE06MwbrnV/AD5MDEnccXsLtk3JIm1ItSP6RSjPdCc7DazbSKZzQNnhDU5VJ6C0Qv8WYt7VOTy1dFX6naIJueAmwX1CQA532PirsyBuYEdZy8h2d5WTdI8Vk2PBdbVBDyLKofrNSy5D2uR+URgu4w+h6kD8hF3+h", "ansible_user_gecos": "root", "ansible_processor_threads_per_core": 1, "ansible_eth0": {"macaddress": "02:22:61:6c:e6:4c", "features": {"tx_checksum_ipv4": "on [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "on", "tx_scatter_gather_fraglist": "off [fixed]", "rx_all": "off [fixed]", "highdma": "off [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "off [fixed]", "tx_tcp_ecn_segmentation": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_ipxip4_segmentation": "off [fixed]", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "pciid": "vif-0", "module": "xen_netfront", "mtu": 9001, "device": "eth0", "promisc": false, "timestamping": ["rx_software", "software"], "ipv4": {"broadcast": "172.31.31.255", "netmask": "255.255.240.0", "network": "172.31.16.0", "address": "172.31.24.219"}, "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::22:61ff:fe6c:e64c"}], "active": true, "type": "ether", "hw_timestamp_filters": []}, "ansible_system": "Linux", "ansible_all_ipv4_addresses": ["172.17.0.1", "172.18.0.1", "172.19.0.1", "172.28.0.1", "172.31.24.219"], "ansible_python_version": "2.7.16", "ansible_product_version": "4.2.amazon", "ansible_service_mgr": "systemd", "ansible_memory_mb": {"real": {"total": 983, "used": 601, "free": 382}, "swap": {"cached": 0, "total": 0, "free": 0, "used": 0}, "nocache": {"used": 295, "free": 688}}, "ansible_user_dir": "/root", "gather_subset": ["all"], "ansible_real_user_id": 0, "ansible_virtualization_role": "guest", "ansible_dns": {"nameservers": ["172.31.0.2"], "search": ["ap-south-1.compute.internal"], "options": {"attempts": "5", "timeout": "2"}}, "ansible_effective_group_id": 0, "ansible_lo": {"features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "rx_all": "off [fixed]", "highdma": "on [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "off [fixed]", "tx_checksumming": "on", "vlan_challenged": "on [fixed]", "loopback": "on [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "on [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on [fixed]", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_nocache_copy": "off [fixed]", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "hw_timestamp_filters": [], "mtu": 65536, "device": "lo", "promisc": false, "timestamping": ["tx_software", "rx_software", "software"], "ipv4": {"broadcast": "host", "netmask": "255.0.0.0", "network": "127.0.0.0", "address": "127.0.0.1"}, "ipv6": [{"scope": "host", "prefix": "128", "address": "::1"}], "active": true, "type": "loopback"}, "ansible_memtotal_mb": 983, "ansible_device_links": {"masters": {}, "labels": {"xvda1": ["\\\\x2f"]}, "ids": {}, "uuids": {"xvda1": ["e75a1891-3463-448b-8f59-5e3353af90ba"]}}, "ansible_apparmor": {"status": "disabled"}, "ansible_proc_cmdline": {"console": ["tty0", "ttyS0,115200n8"], "rd.emergency": "poweroff", "net.ifnames": "0", "biosdevname": "0", "rd.shell": "0", "BOOT_IMAGE": "/boot/vmlinuz-4.14.171-136.231.amzn2.x86_64", "ro": true, "root": "UUID=e75a1891-3463-448b-8f59-5e3353af90ba", "nvme_core.io_timeout": "4294967295"}, "ansible_memfree_mb": 382, "ansible_processor_count": 1, "ansible_hostname": "docker", "ansible_interfaces": ["docker0", "lo", "br-8b80ec3314fe", "docker_gwbridge", "br-6f05936f4caf", "eth0"], "ansible_selinux": {"status": "Missing selinux Python library"}, "ansible_fqdn": "docker", "ansible_mounts": [{"block_used": 848785, "uuid": "e75a1891-3463-448b-8f59-5e3353af90ba", "size_total": 8577331200, "block_total": 2094075, "mount": "/", "block_available": 1245290, "size_available": 5100707840, "fstype": "xfs", "inode_total": 4193216, "options": "rw,noatime,attr2,inode64,noquota", "device": "/dev/xvda1", "inode_used": 98684, "block_size": 4096, "inode_available": 4094532}], "ansible_nodename": "docker", "ansible_lvm": {"pvs": {}, "lvs": {}, "vgs": {}}, "ansible_domain": "", "ansible_distribution_file_path": "/etc/system-release", "ansible_virtualization_type": "xen", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIDMI+OYZ7rInZ1DrCe88lr1I3qEstPy7ppwpXoHVj5Xq", "ansible_processor_cores": 1, "ansible_bios_version": "4.2.amazon", "ansible_date_time": {"weekday_number": "4", "iso8601_basic_short": "20200514T160229", "tz": "UTC", "weeknumber": "19", "hour": "16", "year": "2020", "minute": "02", "tz_offset": "+0000", "month": "05", "epoch": "1589472149", "iso8601_micro": "2020-05-14T16:02:29.043487Z", "weekday": "Thursday", "time": "16:02:29", "date": "2020-05-14", "iso8601": "2020-05-14T16:02:29Z", "day": "14", "iso8601_basic": "20200514T160229043401", "second": "29"}, "ansible_distribution_release": "NA", "ansible_os_family": "RedHat", "ansible_effective_user_id": 0, "ansible_br_8b80ec3314fe": {"macaddress": "02:42:d4:b1:02:4a", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "on", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": [], "id": "8000.0242d4b1024a", "mtu": 1500, "device": "br-8b80ec3314fe", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.18.255.255", "netmask": "255.255.0.0", "network": "172.18.0.0", "address": "172.18.0.1"}, "active": false, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_product_name": "HVM domU", "ansible_devices": {"xvda": {"scheduler_mode": "noop", "rotational": "0", "vendor": null, "sectors": "16777216", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {"xvda1": {"sectorsize": 512, "uuid": "e75a1891-3463-448b-8f59-5e3353af90ba", "links": {"masters": [], "labels": ["\\\\x2f"], "ids": [], "uuids": ["e75a1891-3463-448b-8f59-5e3353af90ba"]}, "sectors": "16773087", "start": "4096", "holders": [], "size": "8.00 GB"}}, "holders": [], "size": "8.00 GB"}}, "ansible_user_uid": 0, "ansible_bios_date": "08/24/2006", "ansible_system_capabilities": ["cap_chown", "cap_dac_override", "cap_dac_read_search", "cap_fowner", "cap_fsetid", "cap_kill", "cap_setgid", "cap_setuid", "cap_setpcap", "cap_linux_immutable", "cap_net_bind_service", "cap_net_broadcast", "cap_net_admin", "cap_net_raw", "cap_ipc_lock", "cap_ipc_owner", "cap_sys_module", "cap_sys_rawio", "cap_sys_chroot", "cap_sys_ptrace", "cap_sys_pacct", "cap_sys_admin", "cap_sys_boot", "cap_sys_nice", "cap_sys_resource", "cap_sys_time", "cap_sys_tty_config", "cap_mknod", "cap_lease", "cap_audit_write", "cap_audit_control", "cap_setfcap", "cap_mac_override", "cap_mac_admin", "cap_syslog", "35", "36", "37+ep"]}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472147.91-25083-267805177277905/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
[WARNING]: Platform linux on host docker is using the discovered Python interpreter at /usr/bin/python, but future installation of
another Python interpreter could change this. See https://docs.ansible.com/ansible/2.9/reference_appendices/interpreter_discovery.html
for more information.
ok: [docker]
META: ran handlers

TASK [docker-swarm-master : Checking the Yum update] ************************************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:4
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472149.41-25224-18715285256584 && echo ansible-tmp-1589472149.41-25224-18715285256584="` echo /root/.ansible/tmp/ansible-tmp-1589472149.41-25224-18715285256584 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472149.41-25224-18715285256584=/root/.ansible/tmp/ansible-tmp-1589472149.41-25224-18715285256584\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/packaging/os/yum.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpe4fCVS TO /root/.ansible/tmp/ansible-tmp-1589472149.41-25224-18715285256584/AnsiballZ_yum.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpe4fCVS /root/.ansible/tmp/ansible-tmp-1589472149.41-25224-18715285256584/AnsiballZ_yum.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472149.41-25224-18715285256584/ /root/.ansible/tmp/ansible-tmp-1589472149.41-25224-18715285256584/AnsiballZ_yum.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472149.41-25224-18715285256584/AnsiballZ_yum.py && sleep 0'"'"''
<docker> (0, '\r\n{"msg": "", "invocation": {"module_args": {"lock_timeout": 30, "update_cache": true, "disable_excludes": null, "exclude": [], "allow_downgrade": false, "disable_gpg_check": false, "conf_file": null, "use_backend": "auto", "state": "latest", "disablerepo": [], "releasever": null, "skip_broken": false, "autoremove": false, "download_dir": null, "enable_plugin": [], "installroot": "/", "install_weak_deps": true, "name": ["*"], "download_only": false, "bugfix": false, "list": null, "install_repoquery": true, "update_only": false, "disable_plugin": [], "enablerepo": [], "security": false, "validate_certs": true}}, "changed": false, "results": ["Nothing to do here, all packages are up to date"], "rc": 0}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472149.41-25224-18715285256584/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
ok: [docker] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "allow_downgrade": false, 
            "autoremove": false, 
            "bugfix": false, 
            "conf_file": null, 
            "disable_excludes": null, 
            "disable_gpg_check": false, 
            "disable_plugin": [], 
            "disablerepo": [], 
            "download_dir": null, 
            "download_only": false, 
            "enable_plugin": [], 
            "enablerepo": [], 
            "exclude": [], 
            "install_repoquery": true, 
            "install_weak_deps": true, 
            "installroot": "/", 
            "list": null, 
            "lock_timeout": 30, 
            "name": [
                "*"
            ], 
            "releasever": null, 
            "security": false, 
            "skip_broken": false, 
            "state": "latest", 
            "update_cache": true, 
            "update_only": false, 
            "use_backend": "auto", 
            "validate_certs": true
        }
    }, 
    "msg": "", 
    "rc": 0, 
    "results": [
        "Nothing to do here, all packages are up to date"
    ]
}

TASK [docker-swarm-master : debug] ******************************************************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:8
ok: [docker] => {
    "msg": "Packages Updated in Total is \"{u'msg': u'', 'failed': False, u'changed': False, u'results': [u'Nothing to do here, all packages are up to date'], u'rc': 0}\""
}

TASK [docker-swarm-master : Verifying if docker-CE is installed] ************************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:12
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472161.1-25294-140907327491106 && echo ansible-tmp-1589472161.1-25294-140907327491106="` echo /root/.ansible/tmp/ansible-tmp-1589472161.1-25294-140907327491106 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472161.1-25294-140907327491106=/root/.ansible/tmp/ansible-tmp-1589472161.1-25294-140907327491106\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/packaging/os/yum.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmp90FWBK TO /root/.ansible/tmp/ansible-tmp-1589472161.1-25294-140907327491106/AnsiballZ_yum.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmp90FWBK /root/.ansible/tmp/ansible-tmp-1589472161.1-25294-140907327491106/AnsiballZ_yum.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472161.1-25294-140907327491106/ /root/.ansible/tmp/ansible-tmp-1589472161.1-25294-140907327491106/AnsiballZ_yum.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472161.1-25294-140907327491106/AnsiballZ_yum.py && sleep 0'"'"''
<docker> (0, '\r\n{"msg": "", "invocation": {"module_args": {"lock_timeout": 30, "update_cache": true, "disable_excludes": null, "exclude": [], "allow_downgrade": false, "disable_gpg_check": false, "conf_file": null, "use_backend": "auto", "state": "present", "disablerepo": [], "releasever": null, "skip_broken": false, "autoremove": false, "download_dir": null, "enable_plugin": [], "installroot": "/", "install_weak_deps": true, "name": ["docker"], "download_only": false, "bugfix": false, "list": null, "install_repoquery": true, "update_only": false, "disable_plugin": [], "enablerepo": [], "security": false, "validate_certs": true}}, "changed": false, "results": ["docker-19.03.6ce-3.amzn2.x86_64 providing docker is already installed"], "rc": 0}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472161.1-25294-140907327491106/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
ok: [docker] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "allow_downgrade": false, 
            "autoremove": false, 
            "bugfix": false, 
            "conf_file": null, 
            "disable_excludes": null, 
            "disable_gpg_check": false, 
            "disable_plugin": [], 
            "disablerepo": [], 
            "download_dir": null, 
            "download_only": false, 
            "enable_plugin": [], 
            "enablerepo": [], 
            "exclude": [], 
            "install_repoquery": true, 
            "install_weak_deps": true, 
            "installroot": "/", 
            "list": null, 
            "lock_timeout": 30, 
            "name": [
                "docker"
            ], 
            "releasever": null, 
            "security": false, 
            "skip_broken": false, 
            "state": "present", 
            "update_cache": true, 
            "update_only": false, 
            "use_backend": "auto", 
            "validate_certs": true
        }
    }, 
    "msg": "", 
    "rc": 0, 
    "results": [
        "docker-19.03.6ce-3.amzn2.x86_64 providing docker is already installed"
    ]
}

TASK [docker-swarm-master : shell] ******************************************************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:15
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472163.08-25355-8891784589095 && echo ansible-tmp-1589472163.08-25355-8891784589095="` echo /root/.ansible/tmp/ansible-tmp-1589472163.08-25355-8891784589095 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472163.08-25355-8891784589095=/root/.ansible/tmp/ansible-tmp-1589472163.08-25355-8891784589095\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpzTSRJs TO /root/.ansible/tmp/ansible-tmp-1589472163.08-25355-8891784589095/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpzTSRJs /root/.ansible/tmp/ansible-tmp-1589472163.08-25355-8891784589095/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472163.08-25355-8891784589095/ /root/.ansible/tmp/ansible-tmp-1589472163.08-25355-8891784589095/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472163.08-25355-8891784589095/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '\r\n{"changed": true, "end": "2020-05-14 16:02:43.778558", "stdout": " Version:           19.03.6-ce\\n  Version:          19.03.6-ce\\n  Version:          1.3.2\\n  Version:          1.0.0-rc10\\n  Version:          0.18.0", "cmd": "docker version | grep \'Version\'", "rc": 0, "start": "2020-05-14 16:02:43.585068", "stderr": "", "delta": "0:00:00.193490", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker version | grep \'Version\'", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472163.08-25355-8891784589095/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
changed: [docker] => {
    "changed": true, 
    "cmd": "docker version | grep 'Version'", 
    "delta": "0:00:00.193490", 
    "end": "2020-05-14 16:02:43.778558", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker version | grep 'Version'", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:43.585068", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": " Version:           19.03.6-ce\n  Version:          19.03.6-ce\n  Version:          1.3.2\n  Version:          1.0.0-rc10\n  Version:          0.18.0", 
    "stdout_lines": [
        " Version:           19.03.6-ce", 
        "  Version:          19.03.6-ce", 
        "  Version:          1.3.2", 
        "  Version:          1.0.0-rc10", 
        "  Version:          0.18.0"
    ]
}

TASK [docker-swarm-master : debug] ******************************************************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:17
ok: [docker] => {
    "msg": "Docker Version on the Target Node is {'stderr_lines': [], u'changed': True, u'end': u'2020-05-14 16:02:43.778558', 'failed': False, u'stdout': u' Version:           19.03.6-ce\\n  Version:          19.03.6-ce\\n  Version:          1.3.2\\n  Version:          1.0.0-rc10\\n  Version:          0.18.0', u'cmd': u\"docker version | grep 'Version'\", u'rc': 0, u'start': u'2020-05-14 16:02:43.585068', u'stderr': u'', u'delta': u'0:00:00.193490', 'stdout_lines': [u' Version:           19.03.6-ce', u'  Version:          19.03.6-ce', u'  Version:          1.3.2', u'  Version:          1.0.0-rc10', u'  Version:          0.18.0']}"
}

TASK [docker-swarm-master : Check the Swarm cluster status in master node] **************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:21
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472163.94-25429-221335039184467 && echo ansible-tmp-1589472163.94-25429-221335039184467="` echo /root/.ansible/tmp/ansible-tmp-1589472163.94-25429-221335039184467 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472163.94-25429-221335039184467=/root/.ansible/tmp/ansible-tmp-1589472163.94-25429-221335039184467\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpNVv2IP TO /root/.ansible/tmp/ansible-tmp-1589472163.94-25429-221335039184467/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpNVv2IP /root/.ansible/tmp/ansible-tmp-1589472163.94-25429-221335039184467/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472163.94-25429-221335039184467/ /root/.ansible/tmp/ansible-tmp-1589472163.94-25429-221335039184467/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472163.94-25429-221335039184467/AnsiballZ_command.py && sleep 0'"'"''
<docker> (1, '\r\n{"changed": true, "end": "2020-05-14 16:02:44.277139", "stdout": "", "cmd": "docker node ls", "failed": true, "delta": "0:00:00.060123", "stderr": "Error response from daemon: This node is not a swarm manager. Use \\"docker swarm init\\" or \\"docker swarm join\\" to connect this node to swarm and try again.", "rc": 1, "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker node ls", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}, "start": "2020-05-14 16:02:44.217016", "msg": "non-zero return code"}\r\n', 'Shared connection to docker closed.\r\n')
<docker> Failed to connect to the host via ssh: Shared connection to docker closed.
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472163.94-25429-221335039184467/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
fatal: [docker]: FAILED! => {
    "changed": true, 
    "cmd": "docker node ls", 
    "delta": "0:00:00.060123", 
    "end": "2020-05-14 16:02:44.277139", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker node ls", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "msg": "non-zero return code", 
    "rc": 1, 
    "start": "2020-05-14 16:02:44.217016", 
    "stderr": "Error response from daemon: This node is not a swarm manager. Use \"docker swarm init\" or \"docker swarm join\" to connect this node to swarm and try again.", 
    "stderr_lines": [
        "Error response from daemon: This node is not a swarm manager. Use \"docker swarm init\" or \"docker swarm join\" to connect this node to swarm and try again."
    ], 
    "stdout": "", 
    "stdout_lines": []
}
...ignoring

TASK [docker-swarm-master : Creating a new Swarm cluster if not exist] ******************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:28
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472164.42-25492-198247108312782 && echo ansible-tmp-1589472164.42-25492-198247108312782="` echo /root/.ansible/tmp/ansible-tmp-1589472164.42-25492-198247108312782 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472164.42-25492-198247108312782=/root/.ansible/tmp/ansible-tmp-1589472164.42-25492-198247108312782\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpcHdjGp TO /root/.ansible/tmp/ansible-tmp-1589472164.42-25492-198247108312782/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpcHdjGp /root/.ansible/tmp/ansible-tmp-1589472164.42-25492-198247108312782/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472164.42-25492-198247108312782/ /root/.ansible/tmp/ansible-tmp-1589472164.42-25492-198247108312782/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472164.42-25492-198247108312782/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '\r\n{"changed": true, "end": "2020-05-14 16:02:45.438245", "stdout": "Swarm initialized: current node (f7k59zco8vdad3b055zow0mhk) is now a manager.\\n\\nTo add a worker to this swarm, run the following command:\\n\\n    docker swarm join --token SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l 172.31.24.219:2377\\n\\nTo add a manager to this swarm, run \'docker swarm join-token manager\' and follow the instructions.\\n\\ndocker", "cmd": "docker swarm init --advertise-addr=172.31.24.219:2377 ; docker node update --availability drain docker", "rc": 0, "start": "2020-05-14 16:02:44.698825", "stderr": "", "delta": "0:00:00.739420", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker swarm init --advertise-addr=172.31.24.219:2377 ; docker node update --availability drain docker", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472164.42-25492-198247108312782/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
changed: [docker] => {
    "changed": true, 
    "cmd": "docker swarm init --advertise-addr=172.31.24.219:2377 ; docker node update --availability drain docker", 
    "delta": "0:00:00.739420", 
    "end": "2020-05-14 16:02:45.438245", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker swarm init --advertise-addr=172.31.24.219:2377 ; docker node update --availability drain docker", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:44.698825", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "Swarm initialized: current node (f7k59zco8vdad3b055zow0mhk) is now a manager.\n\nTo add a worker to this swarm, run the following command:\n\n    docker swarm join --token SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l 172.31.24.219:2377\n\nTo add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.\n\ndocker", 
    "stdout_lines": [
        "Swarm initialized: current node (f7k59zco8vdad3b055zow0mhk) is now a manager.", 
        "", 
        "To add a worker to this swarm, run the following command:", 
        "", 
        "    docker swarm join --token SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l 172.31.24.219:2377", 
        "", 
        "To add a manager to this swarm, run 'docker swarm join-token manager' and follow the instructions.", 
        "", 
        "docker"
    ]
}

TASK [docker-swarm-master : Fetching the Manager token] *********************************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:35
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472165.58-25575-101253886616736 && echo ansible-tmp-1589472165.58-25575-101253886616736="` echo /root/.ansible/tmp/ansible-tmp-1589472165.58-25575-101253886616736 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472165.58-25575-101253886616736=/root/.ansible/tmp/ansible-tmp-1589472165.58-25575-101253886616736\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpi3ko8L TO /root/.ansible/tmp/ansible-tmp-1589472165.58-25575-101253886616736/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpi3ko8L /root/.ansible/tmp/ansible-tmp-1589472165.58-25575-101253886616736/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472165.58-25575-101253886616736/ /root/.ansible/tmp/ansible-tmp-1589472165.58-25575-101253886616736/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472165.58-25575-101253886616736/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '\r\n{"changed": true, "end": "2020-05-14 16:02:46.268940", "stdout": "SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-4w6s63xn912r97lyg70wijjfw", "cmd": "docker swarm join-token --quiet manager", "rc": 0, "start": "2020-05-14 16:02:46.147772", "stderr": "", "delta": "0:00:00.121168", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker swarm join-token --quiet manager", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472165.58-25575-101253886616736/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
changed: [docker] => {
    "changed": true, 
    "cmd": "docker swarm join-token --quiet manager", 
    "delta": "0:00:00.121168", 
    "end": "2020-05-14 16:02:46.268940", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker swarm join-token --quiet manager", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:46.147772", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-4w6s63xn912r97lyg70wijjfw", 
    "stdout_lines": [
        "SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-4w6s63xn912r97lyg70wijjfw"
    ]
}

TASK [docker-swarm-master : Fetching the Worker token] **********************************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:41
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472166.48-25692-280776283416622 && echo ansible-tmp-1589472166.48-25692-280776283416622="` echo /root/.ansible/tmp/ansible-tmp-1589472166.48-25692-280776283416622 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472166.48-25692-280776283416622=/root/.ansible/tmp/ansible-tmp-1589472166.48-25692-280776283416622\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpYPBX6B TO /root/.ansible/tmp/ansible-tmp-1589472166.48-25692-280776283416622/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpYPBX6B /root/.ansible/tmp/ansible-tmp-1589472166.48-25692-280776283416622/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472166.48-25692-280776283416622/ /root/.ansible/tmp/ansible-tmp-1589472166.48-25692-280776283416622/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472166.48-25692-280776283416622/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '\r\n{"changed": true, "end": "2020-05-14 16:02:46.971380", "stdout": "SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l", "cmd": "docker swarm join-token --quiet worker", "rc": 0, "start": "2020-05-14 16:02:46.910580", "stderr": "", "delta": "0:00:00.060800", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker swarm join-token --quiet worker", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472166.48-25692-280776283416622/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
changed: [docker] => {
    "changed": true, 
    "cmd": "docker swarm join-token --quiet worker", 
    "delta": "0:00:00.060800", 
    "end": "2020-05-14 16:02:46.971380", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker swarm join-token --quiet worker", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:46.910580", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l", 
    "stdout_lines": [
        "SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l"
    ]
}

TASK [docker-swarm-master : Veryfing the swarm cluster initialization status] ***********************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:47
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472167.07-25797-214242097576650 && echo ansible-tmp-1589472167.07-25797-214242097576650="` echo /root/.ansible/tmp/ansible-tmp-1589472167.07-25797-214242097576650 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472167.07-25797-214242097576650=/root/.ansible/tmp/ansible-tmp-1589472167.07-25797-214242097576650\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpKWQmYu TO /root/.ansible/tmp/ansible-tmp-1589472167.07-25797-214242097576650/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpKWQmYu /root/.ansible/tmp/ansible-tmp-1589472167.07-25797-214242097576650/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472167.07-25797-214242097576650/ /root/.ansible/tmp/ansible-tmp-1589472167.07-25797-214242097576650/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472167.07-25797-214242097576650/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '\r\n{"changed": true, "end": "2020-05-14 16:02:47.407161", "stdout": "ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION\\nf7k59zco8vdad3b055zow0mhk *   docker              Ready               Drain               Leader              19.03.6-ce", "cmd": "docker node ls", "rc": 0, "start": "2020-05-14 16:02:47.337511", "stderr": "", "delta": "0:00:00.069650", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker node ls", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472167.07-25797-214242097576650/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
changed: [docker] => {
    "changed": true, 
    "cmd": "docker node ls", 
    "delta": "0:00:00.069650", 
    "end": "2020-05-14 16:02:47.407161", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker node ls", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:47.337511", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION\nf7k59zco8vdad3b055zow0mhk *   docker              Ready               Drain               Leader              19.03.6-ce", 
    "stdout_lines": [
        "ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION", 
        "f7k59zco8vdad3b055zow0mhk *   docker              Ready               Drain               Leader              19.03.6-ce"
    ]
}

TASK [docker-swarm-master : copy] *******************************************************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:50
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887 && echo ansible-tmp-1589472167.51-25867-83821444130887="` echo /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472167.51-25867-83821444130887=/root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpsRcSSc TO /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_stat.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpsRcSSc /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_stat.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/ /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_stat.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_stat.py && sleep 0'"'"''
<docker> (0, '\r\n{"invocation": {"module_args": {"checksum_algorithm": "sha1", "get_checksum": true, "follow": false, "path": "/opt", "get_md5": false, "get_mime": true, "get_attributes": true}}, "stat": {"charset": "binary", "uid": 0, "exists": true, "attr_flags": "", "woth": false, "isreg": false, "device_type": 0, "mtime": 1589464497.3121629, "block_size": 4096, "inode": 81678, "isgid": false, "size": 106, "executable": true, "isuid": false, "readable": true, "version": "18446744072933574359", "pw_name": "root", "gid": 0, "ischr": false, "wusr": true, "writeable": true, "mimetype": "inode/directory", "blocks": 0, "xoth": true, "islnk": false, "nlink": 7, "issock": false, "rgrp": true, "gr_name": "root", "path": "/opt", "xusr": true, "atime": 1583552647.7643356, "isdir": true, "ctime": 1589464497.3121629, "isblk": false, "wgrp": false, "xgrp": true, "dev": 51713, "roth": true, "isfifo": false, "mode": "0755", "rusr": true, "attributes": []}, "changed": false}\r\n', 'Shared connection to docker closed.\r\n')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/stat.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpuoYDPV TO /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_stat.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpuoYDPV /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_stat.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/ /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_stat.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_stat.py && sleep 0'"'"''
<docker> (0, '\r\n{"invocation": {"module_args": {"checksum_algorithm": "sha1", "get_checksum": true, "follow": false, "path": "/opt/dockerswarminit", "get_md5": false, "get_mime": true, "get_attributes": true}}, "stat": {"charset": "us-ascii", "uid": 0, "exists": true, "attr_flags": "", "woth": false, "isreg": true, "device_type": 0, "mtime": 1589464496.9201698, "block_size": 4096, "inode": 1424818, "isgid": false, "size": 73, "executable": false, "isuid": false, "readable": true, "version": "18446744072565611964", "pw_name": "root", "gid": 0, "ischr": false, "wusr": true, "writeable": true, "mimetype": "text/plain", "blocks": 8, "xoth": false, "islnk": false, "nlink": 1, "issock": false, "rgrp": true, "gr_name": "root", "path": "/opt/dockerswarminit", "xusr": false, "atime": 1589464496.9201698, "isdir": false, "ctime": 1589464497.3121629, "isblk": false, "wgrp": false, "checksum": "165b6a1544f8e43a31162e5062f7299cdfdb4e8b", "dev": 51713, "roth": true, "isfifo": false, "mode": "0644", "xgrp": false, "rusr": true, "attributes": []}, "changed": false}\r\n', 'Shared connection to docker closed.\r\n')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/files/file.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpZT4VHP TO /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_file.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpZT4VHP /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_file.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/ /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_file.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/AnsiballZ_file.py && sleep 0'"'"''
<docker> (0, '\r\n{"group": "root", "uid": 0, "changed": false, "owner": "root", "state": "file", "gid": 0, "mode": "0644", "path": "/opt/dockerswarminit", "invocation": {"module_args": {"directory_mode": null, "force": false, "remote_src": null, "_original_basename": "dockerswarminit", "path": "/opt/dockerswarminit", "owner": null, "follow": true, "group": null, "unsafe_writes": null, "setype": null, "content": null, "serole": null, "selevel": null, "state": "file", "dest": "/opt", "access_time": null, "access_time_format": "%Y%m%d%H%M.%S", "modification_time": null, "regexp": null, "src": null, "seuser": null, "recurse": false, "_diff_peek": null, "delimiter": null, "mode": null, "modification_time_format": "%Y%m%d%H%M.%S", "attributes": null, "backup": null}}, "diff": {"after": {"path": "/opt/dockerswarminit"}, "before": {"path": "/opt/dockerswarminit"}}, "size": 73}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472167.51-25867-83821444130887/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
ok: [docker] => {
    "changed": false, 
    "checksum": "165b6a1544f8e43a31162e5062f7299cdfdb4e8b", 
    "dest": "/opt/dockerswarminit", 
    "diff": {
        "after": {
            "path": "/opt/dockerswarminit"
        }, 
        "before": {
            "path": "/opt/dockerswarminit"
        }
    }, 
    "gid": 0, 
    "group": "root", 
    "invocation": {
        "module_args": {
            "_diff_peek": null, 
            "_original_basename": "dockerswarminit", 
            "access_time": null, 
            "access_time_format": "%Y%m%d%H%M.%S", 
            "attributes": null, 
            "backup": null, 
            "content": null, 
            "delimiter": null, 
            "dest": "/opt", 
            "directory_mode": null, 
            "follow": true, 
            "force": false, 
            "group": null, 
            "mode": null, 
            "modification_time": null, 
            "modification_time_format": "%Y%m%d%H%M.%S", 
            "owner": null, 
            "path": "/opt/dockerswarminit", 
            "recurse": false, 
            "regexp": null, 
            "remote_src": null, 
            "selevel": null, 
            "serole": null, 
            "setype": null, 
            "seuser": null, 
            "src": null, 
            "state": "file", 
            "unsafe_writes": null
        }
    }, 
    "mode": "0644", 
    "owner": "root", 
    "path": "/opt/dockerswarminit", 
    "size": 73, 
    "state": "file", 
    "uid": 0
}

TASK [docker-swarm-master : debug] ******************************************************************************************************
task path: /etc/ansible/roles/docker-swarm-master/tasks/main.yml:54
ok: [docker] => {
    "msg": "Node status is {'stderr_lines': [], u'changed': True, u'end': u'2020-05-14 16:02:47.407161', 'failed': False, u'stdout': u'ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION\\nf7k59zco8vdad3b055zow0mhk *   docker              Ready               Drain               Leader              19.03.6-ce', u'cmd': u'docker node ls', u'rc': 0, u'start': u'2020-05-14 16:02:47.337511', u'stderr': u'', u'delta': u'0:00:00.069650', 'stdout_lines': [u'ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION', u'f7k59zco8vdad3b055zow0mhk *   docker              Ready               Drain               Leader              19.03.6-ce']}"
}
META: ran handlers
META: ran handlers

PLAY [Add Worker Node to Master Node] ***************************************************************************************************

TASK [Gathering Facts] ******************************************************************************************************************
task path: /etc/ansible/swarm-init.yml:9
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<tomcat> (0, '/root\n', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472168.9-25991-258522914799539 && echo ansible-tmp-1589472168.9-25991-258522914799539="` echo /root/.ansible/tmp/ansible-tmp-1589472168.9-25991-258522914799539 `" ) && sleep 0'"'"''
<tomcat> (0, 'ansible-tmp-1589472168.9-25991-258522914799539=/root/.ansible/tmp/ansible-tmp-1589472168.9-25991-258522914799539\n', '')
<tomcat> Attempting python interpreter discovery
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'echo PLATFORM; uname; echo FOUND; command -v '"'"'"'"'"'"'"'"'/usr/bin/python'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.7'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.6'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python3.5'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python2.7'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python2.6'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/libexec/platform-python'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'/usr/bin/python3'"'"'"'"'"'"'"'"'; command -v '"'"'"'"'"'"'"'"'python'"'"'"'"'"'"'"'"'; echo ENDFOUND && sleep 0'"'"''
<tomcat> (0, 'PLATFORM\nLinux\nFOUND\n/usr/bin/python\n/usr/bin/python3.7\n/usr/bin/python2.7\n/usr/bin/python3\n/usr/bin/python\nENDFOUND\n', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'/usr/bin/python && sleep 0'"'"''
<tomcat> (0, '{"osrelease_content": "NAME=\\"Amazon Linux\\"\\nVERSION=\\"2\\"\\nID=\\"amzn\\"\\nID_LIKE=\\"centos rhel fedora\\"\\nVERSION_ID=\\"2\\"\\nPRETTY_NAME=\\"Amazon Linux 2\\"\\nANSI_COLOR=\\"0;33\\"\\nCPE_NAME=\\"cpe:2.3:o:amazon:amazon_linux:2\\"\\nHOME_URL=\\"https://amazonlinux.com/\\"\\n", "platform_dist_result": ["", "", ""]}\n', '')
<tomcat> Python interpreter discovery fallback (unsupported Linux distribution: amzn)
Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
<tomcat> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpuEA6tc TO /root/.ansible/tmp/ansible-tmp-1589472168.9-25991-258522914799539/AnsiballZ_setup.py
<tomcat> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 '[tomcat]'
<tomcat> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpuEA6tc /root/.ansible/tmp/ansible-tmp-1589472168.9-25991-258522914799539/AnsiballZ_setup.py\n', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472168.9-25991-258522914799539/ /root/.ansible/tmp/ansible-tmp-1589472168.9-25991-258522914799539/AnsiballZ_setup.py && sleep 0'"'"''
<tomcat> (0, '', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 -tt tomcat '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472168.9-25991-258522914799539/AnsiballZ_setup.py && sleep 0'"'"''
<tomcat> (0, '\r\n{"invocation": {"module_args": {"filter": "*", "gather_subset": ["all"], "fact_path": "/etc/ansible/facts.d", "gather_timeout": 10}}, "ansible_facts": {"ansible_fibre_channel_wwn": [], "module_setup": true, "ansible_distribution_version": "2", "ansible_distribution_file_variety": "Amazon", "ansible_env": {"LANG": "en_US.UTF-8", "TERM": "xterm", "SHELL": "/bin/bash", "XDG_RUNTIME_DIR": "/run/user/0", "SHLVL": "2", "SSH_TTY": "/dev/pts/1", "PWD": "/root", "LESSOPEN": "||/usr/bin/lesspipe.sh %s", "XDG_SESSION_ID": "82", "SSH_CLIENT": "172.31.24.219 41284 22", "LOGNAME": "root", "USER": "root", "MAIL": "/var/mail/root", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=01;36:*.xspf=01;36:", "HOME": "/root", "_": "/usr/bin/python", "SSH_CONNECTION": "172.31.24.219 41284 172.31.2.218 22"}, "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_default_ipv4": {"macaddress": "0a:32:a8:52:6b:26", "network": "172.31.0.0", "mtu": 9001, "broadcast": "172.31.15.255", "alias": "eth0", "netmask": "255.255.240.0", "address": "172.31.2.218", "interface": "eth0", "type": "ether", "gateway": "172.31.0.1"}, "ansible_swapfree_mb": 0, "ansible_default_ipv6": {}, "ansible_cmdline": {"console": "ttyS0,115200n8", "rd.emergency": "poweroff", "net.ifnames": "0", "biosdevname": "0", "rd.shell": "0", "BOOT_IMAGE": "/boot/vmlinuz-4.14.171-136.231.amzn2.x86_64", "ro": true, "root": "UUID=e75a1891-3463-448b-8f59-5e3353af90ba", "nvme_core.io_timeout": "4294967295"}, "ansible_machine_id": "ec214dee1f497e5a0c3f972da49e4684", "ansible_userspace_architecture": "x86_64", "ansible_product_uuid": "EC274AB2-4300-867C-C94C-6C84FDE9A330", "ansible_pkg_mgr": "yum", "ansible_docker_gwbridge": {"macaddress": "02:42:7e:5c:98:ea", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "on", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": [], "id": "8000.02427e5c98ea", "mtu": 1500, "device": "docker_gwbridge", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.18.255.255", "netmask": "255.255.0.0", "network": "172.18.0.0", "address": "172.18.0.1"}, "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::42:7eff:fe5c:98ea"}], "active": false, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_distribution": "Amazon", "ansible_iscsi_iqn": "", "ansible_all_ipv6_addresses": ["fe80::42:7eff:fe5c:98ea", "fe80::832:a8ff:fe52:6b26"], "ansible_uptime_seconds": 19157, "ansible_kernel": "4.14.171-136.231.amzn2.x86_64", "ansible_system_capabilities_enforced": "True", "ansible_python": {"executable": "/usr/bin/python", "version": {"micro": 16, "major": 2, "releaselevel": "final", "serial": 0, "minor": 7}, "type": "CPython", "has_sslcontext": true, "version_info": [2, 7, 16, "final", 0]}, "ansible_is_chroot": false, "ansible_hostnqn": "", "ansible_user_shell": "/bin/bash", "ansible_product_serial": "ec274ab2-4300-867c-c94c-6c84fde9a330", "ansible_form_factor": "Other", "ansible_distribution_file_parsed": true, "ansible_fips": false, "ansible_user_id": "root", "ansible_selinux_python_present": false, "ansible_kernel_version": "#1 SMP Thu Feb 27 20:22:48 UTC 2020", "ansible_local": {}, "ansible_processor_vcpus": 1, "ansible_docker0": {"macaddress": "02:42:40:af:11:87", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "on", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": [], "id": "8000.024240af1187", "mtu": 1500, "device": "docker0", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.17.255.255", "netmask": "255.255.0.0", "network": "172.17.0.0", "address": "172.17.0.1"}, "active": false, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_processor": ["0", "GenuineIntel", "Intel(R) Xeon(R) CPU E5-2676 v3 @ 2.40GHz"], "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBDiahiv49vfSk5ckZW6+ZExI9QGlV+EcVGXrNVJaRTx7U7euoDEhEHkVbFQnbU69AWNRFuVHFwFpSTZyCM9evQQ=", "ansible_user_gid": 0, "ansible_system_vendor": "Xen", "ansible_swaptotal_mb": 0, "ansible_distribution_major_version": "2", "ansible_real_group_id": 0, "ansible_lsb": {}, "ansible_machine": "x86_64", "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABAQCr9UtKGKOXqdXpFxWI4byTc45f1l/sTQGffM2q3O/o2gR8w8H39/WS89xVTqu5qMOwTRvV85DjyfSgJ0mv6SP8SF/mZpRiRPsmmNTTjCtDCgR9lKElhCspIQKcLUZf0eopZU7UKQDuRUDH6tWjrCd+RfBtGH980CO/OncS8Kvcu/JZXt92qiCpxhV/7JZAJDZuFCBOFkZ0sLZ5dDyTTGkzBEMrx6nb4K0q7cAKOj1ehi0TujSEjV+eI3euFGVa+plS76WHDSxi9QL7nO5DhOffhZhlrgfCF+FHlJpDKAKzWYokwESfpY73wF8Q2LjKKkjkEYTN9c7iOoPN+++nb3UP", "ansible_user_gecos": "root", "ansible_processor_threads_per_core": 1, "ansible_eth0": {"macaddress": "0a:32:a8:52:6b:26", "features": {"tx_checksum_ipv4": "on [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "on", "tx_scatter_gather_fraglist": "off [fixed]", "rx_all": "off [fixed]", "highdma": "off [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "off [fixed]", "tx_tcp_ecn_segmentation": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_ipxip4_segmentation": "off [fixed]", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "pciid": "vif-0", "module": "xen_netfront", "mtu": 9001, "device": "eth0", "promisc": false, "timestamping": ["rx_software", "software"], "ipv4": {"broadcast": "172.31.15.255", "netmask": "255.255.240.0", "network": "172.31.0.0", "address": "172.31.2.218"}, "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::832:a8ff:fe52:6b26"}], "active": true, "type": "ether", "hw_timestamp_filters": []}, "ansible_system": "Linux", "ansible_all_ipv4_addresses": ["172.17.0.1", "172.18.0.1", "172.31.2.218"], "ansible_python_version": "2.7.16", "ansible_product_version": "4.2.amazon", "ansible_service_mgr": "systemd", "ansible_memory_mb": {"real": {"total": 983, "used": 793, "free": 190}, "swap": {"cached": 0, "total": 0, "free": 0, "used": 0}, "nocache": {"used": 275, "free": 708}}, "ansible_user_dir": "/root", "gather_subset": ["all"], "ansible_real_user_id": 0, "ansible_virtualization_role": "guest", "ansible_dns": {"nameservers": ["172.31.0.2"], "search": ["ap-south-1.compute.internal"], "options": {"attempts": "5", "timeout": "2"}}, "ansible_effective_group_id": 0, "ansible_lo": {"features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "rx_all": "off [fixed]", "highdma": "on [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "off [fixed]", "tx_checksumming": "on", "vlan_challenged": "on [fixed]", "loopback": "on [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "on [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on [fixed]", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_nocache_copy": "off [fixed]", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "hw_timestamp_filters": [], "mtu": 65536, "device": "lo", "promisc": false, "timestamping": ["tx_software", "rx_software", "software"], "ipv4": {"broadcast": "host", "netmask": "255.0.0.0", "network": "127.0.0.0", "address": "127.0.0.1"}, "ipv6": [{"scope": "host", "prefix": "128", "address": "::1"}], "active": true, "type": "loopback"}, "ansible_memtotal_mb": 983, "ansible_device_links": {"masters": {}, "labels": {"xvda1": ["\\\\x2f"]}, "ids": {}, "uuids": {"xvda1": ["e75a1891-3463-448b-8f59-5e3353af90ba"]}}, "ansible_apparmor": {"status": "disabled"}, "ansible_proc_cmdline": {"console": ["tty0", "ttyS0,115200n8"], "rd.emergency": "poweroff", "net.ifnames": "0", "biosdevname": "0", "rd.shell": "0", "BOOT_IMAGE": "/boot/vmlinuz-4.14.171-136.231.amzn2.x86_64", "ro": true, "root": "UUID=e75a1891-3463-448b-8f59-5e3353af90ba", "nvme_core.io_timeout": "4294967295"}, "ansible_memfree_mb": 190, "ansible_processor_count": 1, "ansible_hostname": "tomcat", "ansible_interfaces": ["lo", "docker0", "docker_gwbridge", "eth0"], "ansible_selinux": {"status": "Missing selinux Python library"}, "ansible_fqdn": "tomcat", "ansible_mounts": [{"block_used": 857657, "uuid": "e75a1891-3463-448b-8f59-5e3353af90ba", "size_total": 8577331200, "block_total": 2094075, "mount": "/", "block_available": 1236418, "size_available": 5064368128, "fstype": "xfs", "inode_total": 4193216, "options": "rw,noatime,attr2,inode64,noquota", "device": "/dev/xvda1", "inode_used": 88822, "block_size": 4096, "inode_available": 4104394}], "ansible_nodename": "tomcat", "ansible_lvm": {"pvs": {}, "lvs": {}, "vgs": {}}, "ansible_domain": "", "ansible_distribution_file_path": "/etc/system-release", "ansible_virtualization_type": "xen", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIFTPtCgaw3nDIb0uJnLHyn+UO6at4yHjadyeG2v+cmE/", "ansible_processor_cores": 1, "ansible_bios_version": "4.2.amazon", "ansible_date_time": {"weekday_number": "4", "iso8601_basic_short": "20200514T160249", "tz": "UTC", "weeknumber": "19", "hour": "16", "year": "2020", "minute": "02", "tz_offset": "+0000", "month": "05", "epoch": "1589472169", "iso8601_micro": "2020-05-14T16:02:49.531449Z", "weekday": "Thursday", "time": "16:02:49", "date": "2020-05-14", "iso8601": "2020-05-14T16:02:49Z", "day": "14", "iso8601_basic": "20200514T160249531374", "second": "49"}, "ansible_distribution_release": "NA", "ansible_os_family": "RedHat", "ansible_effective_user_id": 0, "ansible_product_name": "HVM domU", "ansible_devices": {"xvda": {"scheduler_mode": "noop", "rotational": "0", "vendor": null, "sectors": "16777216", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {"xvda1": {"sectorsize": 512, "uuid": "e75a1891-3463-448b-8f59-5e3353af90ba", "links": {"masters": [], "labels": ["\\\\x2f"], "ids": [], "uuids": ["e75a1891-3463-448b-8f59-5e3353af90ba"]}, "sectors": "16773087", "start": "4096", "holders": [], "size": "8.00 GB"}}, "holders": [], "size": "8.00 GB"}}, "ansible_user_uid": 0, "ansible_bios_date": "08/24/2006", "ansible_system_capabilities": ["cap_chown", "cap_dac_override", "cap_dac_read_search", "cap_fowner", "cap_fsetid", "cap_kill", "cap_setgid", "cap_setuid", "cap_setpcap", "cap_linux_immutable", "cap_net_bind_service", "cap_net_broadcast", "cap_net_admin", "cap_net_raw", "cap_ipc_lock", "cap_ipc_owner", "cap_sys_module", "cap_sys_rawio", "cap_sys_chroot", "cap_sys_ptrace", "cap_sys_pacct", "cap_sys_admin", "cap_sys_boot", "cap_sys_nice", "cap_sys_resource", "cap_sys_time", "cap_sys_tty_config", "cap_mknod", "cap_lease", "cap_audit_write", "cap_audit_control", "cap_setfcap", "cap_mac_override", "cap_mac_admin", "cap_syslog", "35", "36", "37+ep"]}}\r\n', 'Shared connection to tomcat closed.\r\n')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472168.9-25991-258522914799539/ > /dev/null 2>&1 && sleep 0'"'"''
<tomcat> (0, '', '')
[WARNING]: Platform linux on host tomcat is using the discovered Python interpreter at /usr/bin/python, but future installation of
another Python interpreter could change this. See https://docs.ansible.com/ansible/2.9/reference_appendices/interpreter_discovery.html
for more information.
ok: [tomcat]
META: ran handlers

TASK [docker-worker-add : Checking the Yum update] **************************************************************************************
task path: /etc/ansible/roles/docker-worker-add/tasks/main.yml:4
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<tomcat> (0, '/root\n', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472169.85-26005-268200391988706 && echo ansible-tmp-1589472169.85-26005-268200391988706="` echo /root/.ansible/tmp/ansible-tmp-1589472169.85-26005-268200391988706 `" ) && sleep 0'"'"''
<tomcat> (0, 'ansible-tmp-1589472169.85-26005-268200391988706=/root/.ansible/tmp/ansible-tmp-1589472169.85-26005-268200391988706\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/packaging/os/yum.py
<tomcat> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpRkR3rD TO /root/.ansible/tmp/ansible-tmp-1589472169.85-26005-268200391988706/AnsiballZ_yum.py
<tomcat> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 '[tomcat]'
<tomcat> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpRkR3rD /root/.ansible/tmp/ansible-tmp-1589472169.85-26005-268200391988706/AnsiballZ_yum.py\n', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472169.85-26005-268200391988706/ /root/.ansible/tmp/ansible-tmp-1589472169.85-26005-268200391988706/AnsiballZ_yum.py && sleep 0'"'"''
<tomcat> (0, '', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 -tt tomcat '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472169.85-26005-268200391988706/AnsiballZ_yum.py && sleep 0'"'"''
<tomcat> (0, '\r\n{"msg": "", "invocation": {"module_args": {"lock_timeout": 30, "update_cache": true, "disable_excludes": null, "exclude": [], "allow_downgrade": false, "disable_gpg_check": false, "conf_file": null, "use_backend": "auto", "state": "latest", "disablerepo": [], "releasever": null, "skip_broken": false, "autoremove": false, "download_dir": null, "enable_plugin": [], "installroot": "/", "install_weak_deps": true, "name": ["*"], "download_only": false, "bugfix": false, "list": null, "install_repoquery": true, "update_only": false, "disable_plugin": [], "enablerepo": [], "security": false, "validate_certs": true}}, "changed": false, "results": ["Nothing to do here, all packages are up to date"], "rc": 0}\r\n', 'Shared connection to tomcat closed.\r\n')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472169.85-26005-268200391988706/ > /dev/null 2>&1 && sleep 0'"'"''
<tomcat> (0, '', '')
ok: [tomcat] => {
    "changed": false, 
    "invocation": {
        "module_args": {
            "allow_downgrade": false, 
            "autoremove": false, 
            "bugfix": false, 
            "conf_file": null, 
            "disable_excludes": null, 
            "disable_gpg_check": false, 
            "disable_plugin": [], 
            "disablerepo": [], 
            "download_dir": null, 
            "download_only": false, 
            "enable_plugin": [], 
            "enablerepo": [], 
            "exclude": [], 
            "install_repoquery": true, 
            "install_weak_deps": true, 
            "installroot": "/", 
            "list": null, 
            "lock_timeout": 30, 
            "name": [
                "*"
            ], 
            "releasever": null, 
            "security": false, 
            "skip_broken": false, 
            "state": "latest", 
            "update_cache": true, 
            "update_only": false, 
            "use_backend": "auto", 
            "validate_certs": true
        }
    }, 
    "msg": "", 
    "rc": 0, 
    "results": [
        "Nothing to do here, all packages are up to date"
    ]
}

TASK [docker-worker-add : debug] ********************************************************************************************************
task path: /etc/ansible/roles/docker-worker-add/tasks/main.yml:8
ok: [tomcat] => {
    "msg": "Packages Updated in Total is {u'msg': u'', 'failed': False, u'changed': False, u'results': [u'Nothing to do here, all packages are up to date'], u'rc': 0}"
}

TASK [docker-worker-add : Verifying if docker-CE is installed] **************************************************************************
task path: /etc/ansible/roles/docker-worker-add/tasks/main.yml:12
skipping: [tomcat] => {
    "changed": false, 
    "skip_reason": "Conditional result was False"
}

TASK [docker-worker-add : shell] ********************************************************************************************************
task path: /etc/ansible/roles/docker-worker-add/tasks/main.yml:15
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<tomcat> (0, '/root\n', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472172.41-26018-185445623265044 && echo ansible-tmp-1589472172.41-26018-185445623265044="` echo /root/.ansible/tmp/ansible-tmp-1589472172.41-26018-185445623265044 `" ) && sleep 0'"'"''
<tomcat> (0, 'ansible-tmp-1589472172.41-26018-185445623265044=/root/.ansible/tmp/ansible-tmp-1589472172.41-26018-185445623265044\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<tomcat> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpFostHp TO /root/.ansible/tmp/ansible-tmp-1589472172.41-26018-185445623265044/AnsiballZ_command.py
<tomcat> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 '[tomcat]'
<tomcat> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpFostHp /root/.ansible/tmp/ansible-tmp-1589472172.41-26018-185445623265044/AnsiballZ_command.py\n', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472172.41-26018-185445623265044/ /root/.ansible/tmp/ansible-tmp-1589472172.41-26018-185445623265044/AnsiballZ_command.py && sleep 0'"'"''
<tomcat> (0, '', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 -tt tomcat '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472172.41-26018-185445623265044/AnsiballZ_command.py && sleep 0'"'"''
<tomcat> (0, '\r\n{"changed": true, "end": "2020-05-14 16:02:52.714834", "stdout": " Version:           19.03.6-ce\\n  Version:          19.03.6-ce\\n  Version:          1.3.2\\n  Version:          1.0.0-rc10\\n  Version:          0.18.0", "cmd": "docker version | grep \\"Version\\"", "rc": 0, "start": "2020-05-14 16:02:52.659157", "stderr": "", "delta": "0:00:00.055677", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker version | grep \\"Version\\"", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to tomcat closed.\r\n')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472172.41-26018-185445623265044/ > /dev/null 2>&1 && sleep 0'"'"''
<tomcat> (0, '', '')
changed: [tomcat] => {
    "changed": true, 
    "cmd": "docker version | grep \"Version\"", 
    "delta": "0:00:00.055677", 
    "end": "2020-05-14 16:02:52.714834", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker version | grep \"Version\"", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:52.659157", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": " Version:           19.03.6-ce\n  Version:          19.03.6-ce\n  Version:          1.3.2\n  Version:          1.0.0-rc10\n  Version:          0.18.0", 
    "stdout_lines": [
        " Version:           19.03.6-ce", 
        "  Version:          19.03.6-ce", 
        "  Version:          1.3.2", 
        "  Version:          1.0.0-rc10", 
        "  Version:          0.18.0"
    ]
}

TASK [docker-worker-add : debug] ********************************************************************************************************
task path: /etc/ansible/roles/docker-worker-add/tasks/main.yml:17
ok: [tomcat] => {
    "msg": "Docker Version on the Target Node is {'stderr_lines': [], u'changed': True, u'end': u'2020-05-14 16:02:52.714834', 'failed': False, u'stdout': u' Version:           19.03.6-ce\\n  Version:          19.03.6-ce\\n  Version:          1.3.2\\n  Version:          1.0.0-rc10\\n  Version:          0.18.0', u'cmd': u'docker version | grep \"Version\"', u'rc': 0, u'start': u'2020-05-14 16:02:52.659157', u'stderr': u'', u'delta': u'0:00:00.055677', 'stdout_lines': [u' Version:           19.03.6-ce', u'  Version:          19.03.6-ce', u'  Version:          1.3.2', u'  Version:          1.0.0-rc10', u'  Version:          0.18.0']}"
}

TASK [docker-worker-add : Adding a worker to the manager Node] **************************************************************************
task path: /etc/ansible/roles/docker-worker-add/tasks/main.yml:21
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<tomcat> (0, '/root\n', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472172.92-26029-144760414196780 && echo ansible-tmp-1589472172.92-26029-144760414196780="` echo /root/.ansible/tmp/ansible-tmp-1589472172.92-26029-144760414196780 `" ) && sleep 0'"'"''
<tomcat> (0, 'ansible-tmp-1589472172.92-26029-144760414196780=/root/.ansible/tmp/ansible-tmp-1589472172.92-26029-144760414196780\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<tomcat> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmph7lIn5 TO /root/.ansible/tmp/ansible-tmp-1589472172.92-26029-144760414196780/AnsiballZ_command.py
<tomcat> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 '[tomcat]'
<tomcat> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmph7lIn5 /root/.ansible/tmp/ansible-tmp-1589472172.92-26029-144760414196780/AnsiballZ_command.py\n', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472172.92-26029-144760414196780/ /root/.ansible/tmp/ansible-tmp-1589472172.92-26029-144760414196780/AnsiballZ_command.py && sleep 0'"'"''
<tomcat> (0, '', '')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 -tt tomcat '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472172.92-26029-144760414196780/AnsiballZ_command.py && sleep 0'"'"''
<tomcat> (0, '\r\n{"changed": true, "end": "2020-05-14 16:02:53.293612", "stdout": "This node joined a swarm as a worker.", "cmd": "docker swarm join --token SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l  172.31.24.219:2377", "rc": 0, "start": "2020-05-14 16:02:53.177358", "stderr": "", "delta": "0:00:00.116254", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker swarm join --token SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l  172.31.24.219:2377", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to tomcat closed.\r\n')
<tomcat> ESTABLISH SSH CONNECTION FOR USER: None
<tomcat> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/c8a9a7ad84 tomcat '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472172.92-26029-144760414196780/ > /dev/null 2>&1 && sleep 0'"'"''
<tomcat> (0, '', '')
changed: [tomcat] => {
    "changed": true, 
    "cmd": "docker swarm join --token SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l  172.31.24.219:2377", 
    "delta": "0:00:00.116254", 
    "end": "2020-05-14 16:02:53.293612", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker swarm join --token SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l  172.31.24.219:2377", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:53.177358", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "This node joined a swarm as a worker.", 
    "stdout_lines": [
        "This node joined a swarm as a worker."
    ]
}

TASK [docker-worker-add : debug] ********************************************************************************************************
task path: /etc/ansible/roles/docker-worker-add/tasks/main.yml:24
ok: [tomcat] => {
    "msg": {
        "changed": true, 
        "cmd": "docker swarm join --token SWMTKN-1-5cmwjxcwffemor02jexp7ruculqaiyoxl33wz3ravsflx1syyb-ajbtt5l8khm5dijmcywsp7c5l  172.31.24.219:2377", 
        "delta": "0:00:00.116254", 
        "end": "2020-05-14 16:02:53.293612", 
        "failed": false, 
        "rc": 0, 
        "start": "2020-05-14 16:02:53.177358", 
        "stderr": "", 
        "stderr_lines": [], 
        "stdout": "This node joined a swarm as a worker.", 
        "stdout_lines": [
            "This node joined a swarm as a worker."
        ]
    }
}
META: ran handlers
META: ran handlers

PLAY [Stack Service Initialize Script] **************************************************************************************************

TASK [Gathering Facts] ******************************************************************************************************************
task path: /etc/ansible/swarm-init.yml:15
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472173.46-26041-240504841053991 && echo ansible-tmp-1589472173.46-26041-240504841053991="` echo /root/.ansible/tmp/ansible-tmp-1589472173.46-26041-240504841053991 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472173.46-26041-240504841053991=/root/.ansible/tmp/ansible-tmp-1589472173.46-26041-240504841053991\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/setup.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmp5OJcNZ TO /root/.ansible/tmp/ansible-tmp-1589472173.46-26041-240504841053991/AnsiballZ_setup.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmp5OJcNZ /root/.ansible/tmp/ansible-tmp-1589472173.46-26041-240504841053991/AnsiballZ_setup.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472173.46-26041-240504841053991/ /root/.ansible/tmp/ansible-tmp-1589472173.46-26041-240504841053991/AnsiballZ_setup.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472173.46-26041-240504841053991/AnsiballZ_setup.py && sleep 0'"'"''
<docker> (0, '\r\n{"invocation": {"module_args": {"filter": "*", "gather_subset": ["all"], "fact_path": "/etc/ansible/facts.d", "gather_timeout": 10}}, "ansible_facts": {"ansible_fibre_channel_wwn": [], "module_setup": true, "ansible_distribution_version": "2", "ansible_vethde640d6": {"macaddress": "32:8d:bf:2a:f6:7f", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "on", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "on", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "on", "tx_tcp_segmentation": "on", "netns_local": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "on", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "off [fixed]", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "type": "ether", "hw_timestamp_filters": [], "mtu": 1500, "device": "vethde640d6", "promisc": true, "timestamping": ["rx_software", "software"], "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::308d:bfff:fe2a:f67f"}], "active": true, "speed": 10000}, "ansible_distribution_file_variety": "Amazon", "ansible_env": {"LANG": "en_US.UTF-8", "TERM": "xterm", "SHELL": "/bin/bash", "XDG_RUNTIME_DIR": "/run/user/0", "SHLVL": "2", "SSH_TTY": "/dev/pts/3", "PWD": "/root", "LESSOPEN": "||/usr/bin/lesspipe.sh %s", "XDG_SESSION_ID": "75", "SSH_CLIENT": "172.31.24.219 35742 22", "LOGNAME": "root", "USER": "root", "MAIL": "/var/mail/root", "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin", "LS_COLORS": "rs=0:di=01;34:ln=01;36:mh=00:pi=40;33:so=01;35:do=01;35:bd=40;33;01:cd=40;33;01:or=40;31;01:mi=01;05;37;41:su=37;41:sg=30;43:ca=30;41:tw=30;42:ow=34;42:st=37;44:ex=01;32:*.tar=01;31:*.tgz=01;31:*.arc=01;31:*.arj=01;31:*.taz=01;31:*.lha=01;31:*.lz4=01;31:*.lzh=01;31:*.lzma=01;31:*.tlz=01;31:*.txz=01;31:*.tzo=01;31:*.t7z=01;31:*.zip=01;31:*.z=01;31:*.Z=01;31:*.dz=01;31:*.gz=01;31:*.lrz=01;31:*.lz=01;31:*.lzo=01;31:*.xz=01;31:*.bz2=01;31:*.bz=01;31:*.tbz=01;31:*.tbz2=01;31:*.tz=01;31:*.deb=01;31:*.rpm=01;31:*.jar=01;31:*.war=01;31:*.ear=01;31:*.sar=01;31:*.rar=01;31:*.alz=01;31:*.ace=01;31:*.zoo=01;31:*.cpio=01;31:*.7z=01;31:*.rz=01;31:*.cab=01;31:*.jpg=01;35:*.jpeg=01;35:*.gif=01;35:*.bmp=01;35:*.pbm=01;35:*.pgm=01;35:*.ppm=01;35:*.tga=01;35:*.xbm=01;35:*.xpm=01;35:*.tif=01;35:*.tiff=01;35:*.png=01;35:*.svg=01;35:*.svgz=01;35:*.mng=01;35:*.pcx=01;35:*.mov=01;35:*.mpg=01;35:*.mpeg=01;35:*.m2v=01;35:*.mkv=01;35:*.webm=01;35:*.ogm=01;35:*.mp4=01;35:*.m4v=01;35:*.mp4v=01;35:*.vob=01;35:*.qt=01;35:*.nuv=01;35:*.wmv=01;35:*.asf=01;35:*.rm=01;35:*.rmvb=01;35:*.flc=01;35:*.avi=01;35:*.fli=01;35:*.flv=01;35:*.gl=01;35:*.dl=01;35:*.xcf=01;35:*.xwd=01;35:*.yuv=01;35:*.cgm=01;35:*.emf=01;35:*.axv=01;35:*.anx=01;35:*.ogv=01;35:*.ogx=01;35:*.aac=01;36:*.au=01;36:*.flac=01;36:*.mid=01;36:*.midi=01;36:*.mka=01;36:*.mp3=01;36:*.mpc=01;36:*.ogg=01;36:*.ra=01;36:*.wav=01;36:*.axa=01;36:*.oga=01;36:*.spx=01;36:*.xspf=01;36:", "HOME": "/root", "_": "/usr/bin/python", "SSH_CONNECTION": "172.31.24.219 35742 172.31.24.219 22"}, "ansible_userspace_bits": "64", "ansible_architecture": "x86_64", "ansible_default_ipv4": {"macaddress": "02:22:61:6c:e6:4c", "network": "172.31.16.0", "mtu": 9001, "broadcast": "172.31.31.255", "alias": "eth0", "netmask": "255.255.240.0", "address": "172.31.24.219", "interface": "eth0", "type": "ether", "gateway": "172.31.16.1"}, "ansible_swapfree_mb": 0, "ansible_default_ipv6": {}, "ansible_br_6f05936f4caf": {"macaddress": "02:42:c7:6f:58:f1", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "on", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": [], "id": "8000.0242c76f58f1", "mtu": 1500, "device": "br-6f05936f4caf", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.28.255.255", "netmask": "255.255.0.0", "network": "172.28.0.0", "address": "172.28.0.1"}, "active": false, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_cmdline": {"console": "ttyS0,115200n8", "rd.emergency": "poweroff", "net.ifnames": "0", "biosdevname": "0", "rd.shell": "0", "BOOT_IMAGE": "/boot/vmlinuz-4.14.171-136.231.amzn2.x86_64", "ro": true, "root": "UUID=e75a1891-3463-448b-8f59-5e3353af90ba", "nvme_core.io_timeout": "4294967295"}, "ansible_machine_id": "ec214dee1f497e5a0c3f972da49e4684", "ansible_userspace_architecture": "x86_64", "ansible_product_uuid": "EC21CE3F-BA31-F50A-A962-5CDD15F103DA", "ansible_pkg_mgr": "yum", "ansible_docker_gwbridge": {"macaddress": "02:42:16:62:8b:b8", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "off [requested on]", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "off [requested on]", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": ["vethde640d6"], "id": "8000.024216628bb8", "mtu": 1500, "device": "docker_gwbridge", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.19.255.255", "netmask": "255.255.0.0", "network": "172.19.0.0", "address": "172.19.0.1"}, "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::42:16ff:fe62:8bb8"}], "active": true, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_distribution": "Amazon", "ansible_iscsi_iqn": "", "ansible_all_ipv6_addresses": ["fe80::42:16ff:fe62:8bb8", "fe80::308d:bfff:fe2a:f67f", "fe80::22:61ff:fe6c:e64c"], "ansible_uptime_seconds": 19162, "ansible_kernel": "4.14.171-136.231.amzn2.x86_64", "ansible_system_capabilities_enforced": "True", "ansible_python": {"executable": "/usr/bin/python", "version": {"micro": 16, "major": 2, "releaselevel": "final", "serial": 0, "minor": 7}, "type": "CPython", "has_sslcontext": true, "version_info": [2, 7, 16, "final", 0]}, "ansible_is_chroot": false, "ansible_hostnqn": "", "ansible_user_shell": "/bin/bash", "ansible_product_serial": "ec21ce3f-ba31-f50a-a962-5cdd15f103da", "ansible_form_factor": "Other", "ansible_distribution_file_parsed": true, "ansible_fips": false, "ansible_user_id": "root", "ansible_selinux_python_present": false, "ansible_kernel_version": "#1 SMP Thu Feb 27 20:22:48 UTC 2020", "ansible_local": {}, "ansible_processor_vcpus": 1, "ansible_docker0": {"macaddress": "02:42:cd:ae:b2:86", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "on", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": [], "id": "8000.0242cdaeb286", "mtu": 1500, "device": "docker0", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.17.255.255", "netmask": "255.255.0.0", "network": "172.17.0.0", "address": "172.17.0.1"}, "active": false, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_processor": ["0", "GenuineIntel", "Intel(R) Xeon(R) CPU E5-2676 v3 @ 2.40GHz"], "ansible_ssh_host_key_ecdsa_public": "AAAAE2VjZHNhLXNoYTItbmlzdHAyNTYAAAAIbmlzdHAyNTYAAABBBGO2FpQMfT113vKnUUj+dATz9FyLsnR09mx1Jlb+5u6PUkUUHsaN9sbJRnilpcKFsxPZ+0V+xe09bujRdb/0CuM=", "ansible_user_gid": 0, "ansible_system_vendor": "Xen", "ansible_swaptotal_mb": 0, "ansible_distribution_major_version": "2", "ansible_real_group_id": 0, "ansible_lsb": {}, "ansible_machine": "x86_64", "ansible_ssh_host_key_rsa_public": "AAAAB3NzaC1yc2EAAAADAQABAAABAQC7hysOjkrmxfDhNB092Er1ceyQ87+KY1YLaVn1UMuVKBXWou81X5XNQYlCunlQoNSPZ5XDZwUksijMG1EaVZ6x+vrmHbEkj7tUftVkxuhU0n28FnXGK33W+Gphh4YHi+vW9ao02DFI7YL/JncXG6pyUC2JxtDLC8mbqHFu10cVvnR1zSGZGqMvNE06MwbrnV/AD5MDEnccXsLtk3JIm1ItSP6RSjPdCc7DazbSKZzQNnhDU5VJ6C0Qv8WYt7VOTy1dFX6naIJueAmwX1CQA532PirsyBuYEdZy8h2d5WTdI8Vk2PBdbVBDyLKofrNSy5D2uR+URgu4w+h6kD8hF3+h", "ansible_user_gecos": "root", "ansible_processor_threads_per_core": 1, "ansible_eth0": {"macaddress": "02:22:61:6c:e6:4c", "features": {"tx_checksum_ipv4": "on [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "on", "tx_scatter_gather_fraglist": "off [fixed]", "rx_all": "off [fixed]", "highdma": "off [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "off [fixed]", "tx_tcp_ecn_segmentation": "off [fixed]", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on [fixed]", "tx_tcp_mangleid_segmentation": "off", "tx_ipxip4_segmentation": "off [fixed]", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "off [fixed]", "tx_esp_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "off [fixed]", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "off [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "pciid": "vif-0", "module": "xen_netfront", "mtu": 9001, "device": "eth0", "promisc": false, "timestamping": ["rx_software", "software"], "ipv4": {"broadcast": "172.31.31.255", "netmask": "255.255.240.0", "network": "172.31.16.0", "address": "172.31.24.219"}, "ipv6": [{"scope": "link", "prefix": "64", "address": "fe80::22:61ff:fe6c:e64c"}], "active": true, "type": "ether", "hw_timestamp_filters": []}, "ansible_system": "Linux", "ansible_all_ipv4_addresses": ["172.17.0.1", "172.18.0.1", "172.19.0.1", "172.28.0.1", "172.31.24.219"], "ansible_python_version": "2.7.16", "ansible_product_version": "4.2.amazon", "ansible_service_mgr": "systemd", "ansible_memory_mb": {"real": {"total": 983, "used": 609, "free": 374}, "swap": {"cached": 0, "total": 0, "free": 0, "used": 0}, "nocache": {"used": 290, "free": 693}}, "ansible_user_dir": "/root", "gather_subset": ["all"], "ansible_real_user_id": 0, "ansible_virtualization_role": "guest", "ansible_dns": {"nameservers": ["172.31.0.2"], "search": ["ap-south-1.compute.internal"], "options": {"attempts": "5", "timeout": "2"}}, "ansible_effective_group_id": 0, "ansible_lo": {"features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on [fixed]", "rx_all": "off [fixed]", "highdma": "on [fixed]", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "off [fixed]", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "off [fixed]", "tx_checksumming": "on", "vlan_challenged": "on [fixed]", "loopback": "on [fixed]", "tx_ipxip6_segmentation": "off [fixed]", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "on [fixed]", "tx_vlan_stag_hw_insert": "off [fixed]", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "off [fixed]", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on [fixed]", "rx_checksumming": "on [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "off [fixed]", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "off [fixed]", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "off [fixed]", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "off [fixed]", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on [fixed]", "tx_fcoe_segmentation": "off [fixed]", "tx_nocache_copy": "off [fixed]", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "off [fixed]", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "off [fixed]"}, "hw_timestamp_filters": [], "mtu": 65536, "device": "lo", "promisc": false, "timestamping": ["tx_software", "rx_software", "software"], "ipv4": {"broadcast": "host", "netmask": "255.0.0.0", "network": "127.0.0.0", "address": "127.0.0.1"}, "ipv6": [{"scope": "host", "prefix": "128", "address": "::1"}], "active": true, "type": "loopback"}, "ansible_memtotal_mb": 983, "ansible_device_links": {"masters": {}, "labels": {"xvda1": ["\\\\x2f"]}, "ids": {}, "uuids": {"xvda1": ["e75a1891-3463-448b-8f59-5e3353af90ba"]}}, "ansible_apparmor": {"status": "disabled"}, "ansible_proc_cmdline": {"console": ["tty0", "ttyS0,115200n8"], "rd.emergency": "poweroff", "net.ifnames": "0", "biosdevname": "0", "rd.shell": "0", "BOOT_IMAGE": "/boot/vmlinuz-4.14.171-136.231.amzn2.x86_64", "ro": true, "root": "UUID=e75a1891-3463-448b-8f59-5e3353af90ba", "nvme_core.io_timeout": "4294967295"}, "ansible_memfree_mb": 374, "ansible_processor_count": 1, "ansible_hostname": "docker", "ansible_interfaces": ["docker0", "lo", "br-8b80ec3314fe", "vethde640d6", "docker_gwbridge", "br-6f05936f4caf", "eth0"], "ansible_selinux": {"status": "Missing selinux Python library"}, "ansible_fqdn": "docker", "ansible_mounts": [{"block_used": 880234, "uuid": "e75a1891-3463-448b-8f59-5e3353af90ba", "size_total": 8577331200, "block_total": 2094075, "mount": "/", "block_available": 1213841, "size_available": 4971892736, "fstype": "xfs", "inode_total": 4193216, "options": "rw,noatime,attr2,inode64,noquota", "device": "/dev/xvda1", "inode_used": 98688, "block_size": 4096, "inode_available": 4094528}], "ansible_nodename": "docker", "ansible_lvm": {"pvs": {}, "lvs": {}, "vgs": {}}, "ansible_domain": "", "ansible_distribution_file_path": "/etc/system-release", "ansible_virtualization_type": "xen", "ansible_ssh_host_key_ed25519_public": "AAAAC3NzaC1lZDI1NTE5AAAAIDMI+OYZ7rInZ1DrCe88lr1I3qEstPy7ppwpXoHVj5Xq", "ansible_processor_cores": 1, "ansible_bios_version": "4.2.amazon", "ansible_date_time": {"weekday_number": "4", "iso8601_basic_short": "20200514T160254", "tz": "UTC", "weeknumber": "19", "hour": "16", "year": "2020", "minute": "02", "tz_offset": "+0000", "month": "05", "epoch": "1589472174", "iso8601_micro": "2020-05-14T16:02:54.132175Z", "weekday": "Thursday", "time": "16:02:54", "date": "2020-05-14", "iso8601": "2020-05-14T16:02:54Z", "day": "14", "iso8601_basic": "20200514T160254132080", "second": "54"}, "ansible_distribution_release": "NA", "ansible_os_family": "RedHat", "ansible_effective_user_id": 0, "ansible_br_8b80ec3314fe": {"macaddress": "02:42:d4:b1:02:4a", "features": {"tx_checksum_ipv4": "off [fixed]", "generic_receive_offload": "on", "tx_checksum_ipv6": "off [fixed]", "tx_scatter_gather_fraglist": "on", "rx_all": "off [fixed]", "highdma": "on", "rx_fcs": "off [fixed]", "tx_lockless": "on [fixed]", "tx_tcp_ecn_segmentation": "on", "rx_udp_tunnel_port_offload": "off [fixed]", "esp_hw_offload": "off [fixed]", "tx_gso_robust": "on", "tx_tcp_mangleid_segmentation": "on", "tx_ipxip4_segmentation": "on", "tx_checksumming": "on", "vlan_challenged": "off [fixed]", "loopback": "off [fixed]", "tx_ipxip6_segmentation": "on", "fcoe_mtu": "off [fixed]", "scatter_gather": "on", "tx_checksum_sctp": "off [fixed]", "tx_vlan_stag_hw_insert": "on", "rx_vlan_stag_hw_parse": "off [fixed]", "tx_gso_partial": "on", "rx_vlan_stag_filter": "off [fixed]", "large_receive_offload": "off [fixed]", "tx_scatter_gather": "on", "rx_checksumming": "off [fixed]", "tx_tcp_segmentation": "on", "netns_local": "on [fixed]", "tx_esp_segmentation": "on", "generic_segmentation_offload": "on", "tx_udp_tnl_segmentation": "on", "tcp_segmentation_offload": "on", "l2_fwd_offload": "off [fixed]", "rx_vlan_offload": "off [fixed]", "ntuple_filters": "off [fixed]", "tx_gre_csum_segmentation": "on", "esp_tx_csum_hw_offload": "off [fixed]", "tx_tcp6_segmentation": "on", "tx_udp_tnl_csum_segmentation": "on", "udp_fragmentation_offload": "off", "tx_sctp_segmentation": "on", "tx_checksum_fcoe_crc": "off [fixed]", "hw_tc_offload": "off [fixed]", "tx_checksum_ip_generic": "on", "tx_fcoe_segmentation": "on", "tx_nocache_copy": "off", "rx_vlan_filter": "off [fixed]", "tx_vlan_offload": "on", "receive_hashing": "off [fixed]", "tx_gre_segmentation": "on"}, "interfaces": [], "id": "8000.0242d4b1024a", "mtu": 1500, "device": "br-8b80ec3314fe", "promisc": false, "stp": false, "ipv4": {"broadcast": "172.18.255.255", "netmask": "255.255.0.0", "network": "172.18.0.0", "address": "172.18.0.1"}, "active": false, "timestamping": ["rx_software", "software"], "type": "bridge", "hw_timestamp_filters": []}, "ansible_product_name": "HVM domU", "ansible_devices": {"xvda": {"scheduler_mode": "noop", "rotational": "0", "vendor": null, "sectors": "16777216", "links": {"masters": [], "labels": [], "ids": [], "uuids": []}, "sas_device_handle": null, "sas_address": null, "virtual": 1, "host": "", "sectorsize": "512", "removable": "0", "support_discard": "0", "model": null, "partitions": {"xvda1": {"sectorsize": 512, "uuid": "e75a1891-3463-448b-8f59-5e3353af90ba", "links": {"masters": [], "labels": ["\\\\x2f"], "ids": [], "uuids": ["e75a1891-3463-448b-8f59-5e3353af90ba"]}, "sectors": "16773087", "start": "4096", "holders": [], "size": "8.00 GB"}}, "holders": [], "size": "8.00 GB"}}, "ansible_user_uid": 0, "ansible_bios_date": "08/24/2006", "ansible_system_capabilities": ["cap_chown", "cap_dac_override", "cap_dac_read_search", "cap_fowner", "cap_fsetid", "cap_kill", "cap_setgid", "cap_setuid", "cap_setpcap", "cap_linux_immutable", "cap_net_bind_service", "cap_net_broadcast", "cap_net_admin", "cap_net_raw", "cap_ipc_lock", "cap_ipc_owner", "cap_sys_module", "cap_sys_rawio", "cap_sys_chroot", "cap_sys_ptrace", "cap_sys_pacct", "cap_sys_admin", "cap_sys_boot", "cap_sys_nice", "cap_sys_resource", "cap_sys_time", "cap_sys_tty_config", "cap_mknod", "cap_lease", "cap_audit_write", "cap_audit_control", "cap_setfcap", "cap_mac_override", "cap_mac_admin", "cap_syslog", "35", "36", "37+ep"]}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472173.46-26041-240504841053991/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
ok: [docker]
META: ran handlers

TASK [docker-stack-service : Checking if the swarm ckuster exists] **********************************************************************
task path: /etc/ansible/roles/docker-stack-service/tasks/main.yml:4
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472174.29-26151-136558551632528 && echo ansible-tmp-1589472174.29-26151-136558551632528="` echo /root/.ansible/tmp/ansible-tmp-1589472174.29-26151-136558551632528 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472174.29-26151-136558551632528=/root/.ansible/tmp/ansible-tmp-1589472174.29-26151-136558551632528\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpyjeXCS TO /root/.ansible/tmp/ansible-tmp-1589472174.29-26151-136558551632528/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpyjeXCS /root/.ansible/tmp/ansible-tmp-1589472174.29-26151-136558551632528/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472174.29-26151-136558551632528/ /root/.ansible/tmp/ansible-tmp-1589472174.29-26151-136558551632528/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472174.29-26151-136558551632528/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '\r\n{"changed": true, "end": "2020-05-14 16:02:54.626017", "stdout": "ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION\\nf7k59zco8vdad3b055zow0mhk *   docker              Ready               Drain               Leader              19.03.6-ce\\nt42aqxul93q0m4qwyi6y4ufbc     tomcat              Ready               Active                                  19.03.6-ce", "cmd": "docker node ls", "rc": 0, "start": "2020-05-14 16:02:54.555898", "stderr": "", "delta": "0:00:00.070119", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker node ls", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472174.29-26151-136558551632528/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
changed: [docker] => {
    "changed": true, 
    "cmd": "docker node ls", 
    "delta": "0:00:00.070119", 
    "end": "2020-05-14 16:02:54.626017", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker node ls", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:54.555898", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION\nf7k59zco8vdad3b055zow0mhk *   docker              Ready               Drain               Leader              19.03.6-ce\nt42aqxul93q0m4qwyi6y4ufbc     tomcat              Ready               Active                                  19.03.6-ce", 
    "stdout_lines": [
        "ID                            HOSTNAME            STATUS              AVAILABILITY        MANAGER STATUS      ENGINE VERSION", 
        "f7k59zco8vdad3b055zow0mhk *   docker              Ready               Drain               Leader              19.03.6-ce", 
        "t42aqxul93q0m4qwyi6y4ufbc     tomcat              Ready               Active                                  19.03.6-ce"
    ]
}

TASK [docker-stack-service : Verifying if there is existing stack service] **************************************************************
task path: /etc/ansible/roles/docker-stack-service/tasks/main.yml:9
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472174.75-26221-43009216688701 && echo ansible-tmp-1589472174.75-26221-43009216688701="` echo /root/.ansible/tmp/ansible-tmp-1589472174.75-26221-43009216688701 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472174.75-26221-43009216688701=/root/.ansible/tmp/ansible-tmp-1589472174.75-26221-43009216688701\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpTkc7vu TO /root/.ansible/tmp/ansible-tmp-1589472174.75-26221-43009216688701/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpTkc7vu /root/.ansible/tmp/ansible-tmp-1589472174.75-26221-43009216688701/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472174.75-26221-43009216688701/ /root/.ansible/tmp/ansible-tmp-1589472174.75-26221-43009216688701/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472174.75-26221-43009216688701/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '\r\n{"changed": true, "end": "2020-05-14 16:02:55.079825", "stdout": "CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES", "cmd": "docker ps", "rc": 0, "start": "2020-05-14 16:02:55.022372", "stderr": "", "delta": "0:00:00.057453", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker ps", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472174.75-26221-43009216688701/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
changed: [docker] => {
    "changed": true, 
    "cmd": "docker ps", 
    "delta": "0:00:00.057453", 
    "end": "2020-05-14 16:02:55.079825", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker ps", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:55.022372", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES", 
    "stdout_lines": [
        "CONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES"
    ]
}

TASK [docker-stack-service : Creating the new Stack service for deploying the App] ******************************************************
task path: /etc/ansible/roles/docker-stack-service/tasks/main.yml:17
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472175.21-26285-40524657130006 && echo ansible-tmp-1589472175.21-26285-40524657130006="` echo /root/.ansible/tmp/ansible-tmp-1589472175.21-26285-40524657130006 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472175.21-26285-40524657130006=/root/.ansible/tmp/ansible-tmp-1589472175.21-26285-40524657130006\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmp6JbFPj TO /root/.ansible/tmp/ansible-tmp-1589472175.21-26285-40524657130006/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmp6JbFPj /root/.ansible/tmp/ansible-tmp-1589472175.21-26285-40524657130006/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472175.21-26285-40524657130006/ /root/.ansible/tmp/ansible-tmp-1589472175.21-26285-40524657130006/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472175.21-26285-40524657130006/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '\r\n{"changed": true, "end": "2020-05-14 16:03:01.663176", "stdout": "Creating network all_stack_allash\\nCreating service all_stack_pythonapp\\nCreating service all_stack_redis", "cmd": "docker stack deploy -c /opt/python/scripts/docker-stack/docker-compose.yml all_stack", "rc": 0, "start": "2020-05-14 16:02:55.470685", "stderr": "", "delta": "0:00:06.192491", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker stack deploy -c /opt/python/scripts/docker-stack/docker-compose.yml all_stack", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472175.21-26285-40524657130006/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
NOTIFIED HANDLER docker-stack-service : restart-docker-stack for docker
changed: [docker] => {
    "changed": true, 
    "cmd": "docker stack deploy -c /opt/python/scripts/docker-stack/docker-compose.yml all_stack", 
    "delta": "0:00:06.192491", 
    "end": "2020-05-14 16:03:01.663176", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker stack deploy -c /opt/python/scripts/docker-stack/docker-compose.yml all_stack", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:02:55.470685", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "Creating network all_stack_allash\nCreating service all_stack_pythonapp\nCreating service all_stack_redis", 
    "stdout_lines": [
        "Creating network all_stack_allash", 
        "Creating service all_stack_pythonapp", 
        "Creating service all_stack_redis"
    ]
}

TASK [docker-stack-service : Verify the created stack application is Up & Running] ******************************************************
task path: /etc/ansible/roles/docker-stack-service/tasks/main.yml:26
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472181.8-26359-70077986470280 && echo ansible-tmp-1589472181.8-26359-70077986470280="` echo /root/.ansible/tmp/ansible-tmp-1589472181.8-26359-70077986470280 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472181.8-26359-70077986470280=/root/.ansible/tmp/ansible-tmp-1589472181.8-26359-70077986470280\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/commands/command.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpB1nOu4 TO /root/.ansible/tmp/ansible-tmp-1589472181.8-26359-70077986470280/AnsiballZ_command.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpB1nOu4 /root/.ansible/tmp/ansible-tmp-1589472181.8-26359-70077986470280/AnsiballZ_command.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472181.8-26359-70077986470280/ /root/.ansible/tmp/ansible-tmp-1589472181.8-26359-70077986470280/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472181.8-26359-70077986470280/AnsiballZ_command.py && sleep 0'"'"''
<docker> (0, '\r\n{"changed": true, "end": "2020-05-14 16:03:02.145591", "stdout": "ID                  NAME                  MODE                REPLICAS            IMAGE                  PORTS\\njnpdqp7hbnrl        all_stack_pythonapp   replicated          0/1                 all-python3.6:latest   *:5000->5000/tcp\\njz151xhu7vj8        all_stack_redis       replicated          0/1                 redis:latest           ", "cmd": "docker service ls", "rc": 0, "start": "2020-05-14 16:03:02.078065", "stderr": "", "delta": "0:00:00.067526", "invocation": {"module_args": {"creates": null, "executable": null, "_uses_shell": true, "strip_empty_ends": true, "_raw_params": "docker service ls", "removes": null, "argv": null, "warn": false, "chdir": null, "stdin_add_newline": true, "stdin": null}}}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472181.8-26359-70077986470280/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
changed: [docker] => {
    "changed": true, 
    "cmd": "docker service ls", 
    "delta": "0:00:00.067526", 
    "end": "2020-05-14 16:03:02.145591", 
    "invocation": {
        "module_args": {
            "_raw_params": "docker service ls", 
            "_uses_shell": true, 
            "argv": null, 
            "chdir": null, 
            "creates": null, 
            "executable": null, 
            "removes": null, 
            "stdin": null, 
            "stdin_add_newline": true, 
            "strip_empty_ends": true, 
            "warn": false
        }
    }, 
    "rc": 0, 
    "start": "2020-05-14 16:03:02.078065", 
    "stderr": "", 
    "stderr_lines": [], 
    "stdout": "ID                  NAME                  MODE                REPLICAS            IMAGE                  PORTS\njnpdqp7hbnrl        all_stack_pythonapp   replicated          0/1                 all-python3.6:latest   *:5000->5000/tcp\njz151xhu7vj8        all_stack_redis       replicated          0/1                 redis:latest           ", 
    "stdout_lines": [
        "ID                  NAME                  MODE                REPLICAS            IMAGE                  PORTS", 
        "jnpdqp7hbnrl        all_stack_pythonapp   replicated          0/1                 all-python3.6:latest   *:5000->5000/tcp", 
        "jz151xhu7vj8        all_stack_redis       replicated          0/1                 redis:latest           "
    ]
}

TASK [docker-stack-service : debug] *****************************************************************************************************
task path: /etc/ansible/roles/docker-stack-service/tasks/main.yml:30
ok: [docker] => {
    "msg": "Docker Services Running in the Swarm Cluster are {'stderr_lines': [], u'changed': True, u'end': u'2020-05-14 16:03:02.145591', 'failed': False, u'stdout': u'ID                  NAME                  MODE                REPLICAS            IMAGE                  PORTS\\njnpdqp7hbnrl        all_stack_pythonapp   replicated          0/1                 all-python3.6:latest   *:5000->5000/tcp\\njz151xhu7vj8        all_stack_redis       replicated          0/1                 redis:latest           ', u'cmd': u'docker service ls', u'rc': 0, u'start': u'2020-05-14 16:03:02.078065', u'stderr': u'', u'delta': u'0:00:00.067526', 'stdout_lines': [u'ID                  NAME                  MODE                REPLICAS            IMAGE                  PORTS', u'jnpdqp7hbnrl        all_stack_pythonapp   replicated          0/1                 all-python3.6:latest   *:5000->5000/tcp', u'jz151xhu7vj8        all_stack_redis       replicated          0/1                 redis:latest           ']}"
}

RUNNING HANDLER [docker-stack-service : restart-docker-stack] ***************************************************************************
task path: /etc/ansible/roles/docker-stack-service/handlers/main.yml:4
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'echo ~ && sleep 0'"'"''
<docker> (0, '/root\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'( umask 77 && mkdir -p "` echo /root/.ansible/tmp `"&& mkdir /root/.ansible/tmp/ansible-tmp-1589472182.41-26425-248329821597205 && echo ansible-tmp-1589472182.41-26425-248329821597205="` echo /root/.ansible/tmp/ansible-tmp-1589472182.41-26425-248329821597205 `" ) && sleep 0'"'"''
<docker> (0, 'ansible-tmp-1589472182.41-26425-248329821597205=/root/.ansible/tmp/ansible-tmp-1589472182.41-26425-248329821597205\n', '')
Using module file /usr/lib/python2.7/site-packages/ansible/modules/system/systemd.py
<docker> PUT /root/.ansible/tmp/ansible-local-25077wyf43b/tmpGbEdnS TO /root/.ansible/tmp/ansible-tmp-1589472182.41-26425-248329821597205/AnsiballZ_systemd.py
<docker> SSH: EXEC sftp -b - -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 '[docker]'
<docker> (0, 'sftp> put /root/.ansible/tmp/ansible-local-25077wyf43b/tmpGbEdnS /root/.ansible/tmp/ansible-tmp-1589472182.41-26425-248329821597205/AnsiballZ_systemd.py\n', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'chmod u+x /root/.ansible/tmp/ansible-tmp-1589472182.41-26425-248329821597205/ /root/.ansible/tmp/ansible-tmp-1589472182.41-26425-248329821597205/AnsiballZ_systemd.py && sleep 0'"'"''
<docker> (0, '', '')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 -tt docker '/bin/sh -c '"'"'/usr/bin/python /root/.ansible/tmp/ansible-tmp-1589472182.41-26425-248329821597205/AnsiballZ_systemd.py && sleep 0'"'"''
<docker> (0, '\r\n{"status": {"ExecStart": "{ path=/usr/bin/dockerd ; argv[]=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock $OPTIONS $DOCKER_STORAGE_OPTIONS $DOCKER_ADD_RUNTIMES ; ignore_errors=no ; start_time=[Thu 2020-05-14 15:55:00 UTC] ; stop_time=[n/a] ; pid=23792 ; code=(null) ; status=0/0 }", "TimeoutStopUSec": "0", "ControlGroup": "/system.slice/docker.service", "RuntimeDirectoryMode": "0755", "GuessMainPID": "yes", "ActiveExitTimestamp": "Thu 2020-05-14 15:55:00 UTC", "ExecMainCode": "0", "ExecStartPre": "{ path=/usr/libexec/docker/docker-setup-runtimes.sh ; argv[]=/usr/libexec/docker/docker-setup-runtimes.sh ; ignore_errors=no ; start_time=[Thu 2020-05-14 15:55:00 UTC] ; stop_time=[Thu 2020-05-14 15:55:00 UTC] ; pid=23785 ; code=exited ; status=0 }", "UnitFileState": "enabled", "ExecMainPID": "23792", "LimitSIGPENDING": "3792", "FileDescriptorStoreMax": "0", "LoadState": "loaded", "ProtectHome": "no", "TTYVTDisallocate": "no", "StartLimitInterval": "60000000", "WatchdogTimestampMonotonic": "18689842261", "LimitSTACK": "18446744073709551615", "ActiveEnterTimestampMonotonic": "18689842331", "StandardError": "inherit", "IgnoreOnSnapshot": "no", "StartLimitAction": "none", "EnvironmentFile": "/run/docker/runtimes.env (ignore_errors=yes)", "CPUSchedulingPriority": "0", "KillSignal": "15", "LimitFSIZE": "18446744073709551615", "IgnoreOnIsolate": "no", "LimitCPU": "18446744073709551615", "AssertTimestamp": "Thu 2020-05-14 15:55:00 UTC", "WatchdogTimestamp": "Thu 2020-05-14 15:55:00 UTC", "ActiveEnterTimestamp": "Thu 2020-05-14 15:55:00 UTC", "MemoryLimit": "18446744073709551615", "CanStart": "yes", "JobTimeoutAction": "none", "NoNewPrivileges": "no", "Before": "multi-user.target shutdown.target", "LimitAS": "18446744073709551615", "RootDirectoryStartOnly": "no", "InactiveExitTimestampMonotonic": "18689167576", "SendSIGHUP": "no", "TimeoutStartUSec": "0", "Type": "notify", "SyslogPriority": "30", "SameProcessGroup": "no", "LimitNPROC": "18446744073709551615", "UMask": "0022", "NonBlocking": "no", "DevicePolicy": "auto", "ExecMainStartTimestamp": "Thu 2020-05-14 15:55:00 UTC", "CapabilityBoundingSet": "18446744073709551615", "TTYReset": "no", "OOMScoreAdjust": "0", "Documentation": "https://docs.docker.com", "StartLimitBurst": "3", "RefuseManualStart": "no", "KillMode": "process", "SyslogLevelPrefix": "yes", "LimitRSS": "18446744073709551615", "LimitRTPRIO": "0", "Delegate": "yes", "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -s HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", "SecureBits": "0", "LimitCORE": "18446744073709551615", "JobTimeoutUSec": "0", "TimerSlackNSec": "50000", "SubState": "running", "CPUSchedulingResetOnFork": "no", "Result": "success", "CPUShares": "18446744073709551615", "ConditionResult": "yes", "ConditionTimestampMonotonic": "18689166837", "MainPID": "23792", "StartupBlockIOWeight": "18446744073709551615", "InactiveExitTimestamp": "Thu 2020-05-14 15:55:00 UTC", "FragmentPath": "/usr/lib/systemd/system/docker.service", "StartupCPUShares": "18446744073709551615", "WatchdogUSec": "0", "ActiveState": "active", "Nice": "0", "LimitDATA": "18446744073709551615", "UnitFilePreset": "disabled", "MemoryCurrent": "104173568", "LimitRTTIME": "18446744073709551615", "WantedBy": "multi-user.target", "TasksCurrent": "9", "RestartUSec": "2s", "ConditionTimestamp": "Thu 2020-05-14 15:55:00 UTC", "CPUAccounting": "no", "RemainAfterExit": "no", "PrivateNetwork": "no", "Restart": "always", "CPUSchedulingPolicy": "0", "LimitNOFILE": "18446744073709551615", "SendSIGKILL": "yes", "StatusErrno": "0", "RefuseManualStop": "no", "SystemCallErrorNumber": "0", "TasksAccounting": "no", "NeedDaemonReload": "no", "TTYVHangup": "no", "InactiveEnterTimestamp": "Thu 2020-05-14 15:55:00 UTC", "StandardInput": "null", "AssertTimestampMonotonic": "18689166840", "DefaultDependencies": "yes", "Requires": "docker.socket basic.target", "TasksMax": "18446744073709551615", "CPUQuotaPerSecUSec": "infinity", "ExecMainStatus": "0", "LimitMEMLOCK": "65536", "StopWhenUnneeded": "no", "LimitMSGQUEUE": "819200", "AmbientCapabilities": "0", "Slice": "system.slice", "ExecMainExitTimestampMonotonic": "0", "ConsistsOf": "docker.socket", "BindsTo": "containerd.service", "NotifyAccess": "main", "PermissionsStartOnly": "no", "BlockIOAccounting": "no", "CanStop": "yes", "PrivateTmp": "no", "OnFailureJobMode": "replace", "AssertResult": "yes", "LimitLOCKS": "18446744073709551615", "ExecMainStartTimestampMonotonic": "18689183224", "AllowIsolate": "no", "Wants": "network-online.target system.slice", "After": "docker.socket firewalld.service basic.target systemd-journald.socket network-online.target system.slice containerd.service", "FailureAction": "none", "CanIsolate": "no", "Conflicts": "shutdown.target", "TriggeredBy": "docker.socket", "StandardOutput": "journal", "MountFlags": "0", "InactiveEnterTimestampMonotonic": "18689161880", "MemoryAccounting": "no", "IgnoreSIGPIPE": "yes", "Transient": "no", "IOScheduling": "0", "Description": "Docker Application Container Engine", "ActiveExitTimestampMonotonic": "18688951494", "CanReload": "yes", "ControlPID": "0", "LimitNICE": "0", "BlockIOWeight": "18446744073709551615", "Names": "docker.service", "ProtectSystem": "no", "PrivateDevices": "no", "Id": "docker.service"}, "invocation": {"module_args": {"no_block": false, "force": null, "name": "docker", "daemon_reexec": false, "enabled": null, "daemon_reload": false, "state": "restarted", "masked": null, "scope": null, "user": null}}, "state": "started", "changed": true, "name": "docker"}\r\n', 'Shared connection to docker closed.\r\n')
<docker> ESTABLISH SSH CONNECTION FOR USER: None
<docker> SSH: EXEC ssh -C -o ControlMaster=auto -o ControlPersist=60s -o 'IdentityFile="/root/rhel7.pem"' -o KbdInteractiveAuthentication=no -o PreferredAuthentications=gssapi-with-mic,gssapi-keyex,hostbased,publickey -o PasswordAuthentication=no -o ConnectTimeout=10 -o ControlPath=/root/.ansible/cp/86c5b37ce8 docker '/bin/sh -c '"'"'rm -f -r /root/.ansible/tmp/ansible-tmp-1589472182.41-26425-248329821597205/ > /dev/null 2>&1 && sleep 0'"'"''
<docker> (0, '', '')
changed: [docker] => {
    "changed": true, 
    "invocation": {
        "module_args": {
            "daemon_reexec": false, 
            "daemon_reload": false, 
            "enabled": null, 
            "force": null, 
            "masked": null, 
            "name": "docker", 
            "no_block": false, 
            "scope": null, 
            "state": "restarted", 
            "user": null
        }
    }, 
    "name": "docker", 
    "state": "started", 
    "status": {
        "ActiveEnterTimestamp": "Thu 2020-05-14 15:55:00 UTC", 
        "ActiveEnterTimestampMonotonic": "18689842331", 
        "ActiveExitTimestamp": "Thu 2020-05-14 15:55:00 UTC", 
        "ActiveExitTimestampMonotonic": "18688951494", 
        "ActiveState": "active", 
        "After": "docker.socket firewalld.service basic.target systemd-journald.socket network-online.target system.slice containerd.service", 
        "AllowIsolate": "no", 
        "AmbientCapabilities": "0", 
        "AssertResult": "yes", 
        "AssertTimestamp": "Thu 2020-05-14 15:55:00 UTC", 
        "AssertTimestampMonotonic": "18689166840", 
        "Before": "multi-user.target shutdown.target", 
        "BindsTo": "containerd.service", 
        "BlockIOAccounting": "no", 
        "BlockIOWeight": "18446744073709551615", 
        "CPUAccounting": "no", 
        "CPUQuotaPerSecUSec": "infinity", 
        "CPUSchedulingPolicy": "0", 
        "CPUSchedulingPriority": "0", 
        "CPUSchedulingResetOnFork": "no", 
        "CPUShares": "18446744073709551615", 
        "CanIsolate": "no", 
        "CanReload": "yes", 
        "CanStart": "yes", 
        "CanStop": "yes", 
        "CapabilityBoundingSet": "18446744073709551615", 
        "ConditionResult": "yes", 
        "ConditionTimestamp": "Thu 2020-05-14 15:55:00 UTC", 
        "ConditionTimestampMonotonic": "18689166837", 
        "Conflicts": "shutdown.target", 
        "ConsistsOf": "docker.socket", 
        "ControlGroup": "/system.slice/docker.service", 
        "ControlPID": "0", 
        "DefaultDependencies": "yes", 
        "Delegate": "yes", 
        "Description": "Docker Application Container Engine", 
        "DevicePolicy": "auto", 
        "Documentation": "https://docs.docker.com", 
        "EnvironmentFile": "/run/docker/runtimes.env (ignore_errors=yes)", 
        "ExecMainCode": "0", 
        "ExecMainExitTimestampMonotonic": "0", 
        "ExecMainPID": "23792", 
        "ExecMainStartTimestamp": "Thu 2020-05-14 15:55:00 UTC", 
        "ExecMainStartTimestampMonotonic": "18689183224", 
        "ExecMainStatus": "0", 
        "ExecReload": "{ path=/bin/kill ; argv[]=/bin/kill -s HUP $MAINPID ; ignore_errors=no ; start_time=[n/a] ; stop_time=[n/a] ; pid=0 ; code=(null) ; status=0/0 }", 
        "ExecStart": "{ path=/usr/bin/dockerd ; argv[]=/usr/bin/dockerd -H fd:// --containerd=/run/containerd/containerd.sock $OPTIONS $DOCKER_STORAGE_OPTIONS $DOCKER_ADD_RUNTIMES ; ignore_errors=no ; start_time=[Thu 2020-05-14 15:55:00 UTC] ; stop_time=[n/a] ; pid=23792 ; code=(null) ; status=0/0 }", 
        "ExecStartPre": "{ path=/usr/libexec/docker/docker-setup-runtimes.sh ; argv[]=/usr/libexec/docker/docker-setup-runtimes.sh ; ignore_errors=no ; start_time=[Thu 2020-05-14 15:55:00 UTC] ; stop_time=[Thu 2020-05-14 15:55:00 UTC] ; pid=23785 ; code=exited ; status=0 }", 
        "FailureAction": "none", 
        "FileDescriptorStoreMax": "0", 
        "FragmentPath": "/usr/lib/systemd/system/docker.service", 
        "GuessMainPID": "yes", 
        "IOScheduling": "0", 
        "Id": "docker.service", 
        "IgnoreOnIsolate": "no", 
        "IgnoreOnSnapshot": "no", 
        "IgnoreSIGPIPE": "yes", 
        "InactiveEnterTimestamp": "Thu 2020-05-14 15:55:00 UTC", 
        "InactiveEnterTimestampMonotonic": "18689161880", 
        "InactiveExitTimestamp": "Thu 2020-05-14 15:55:00 UTC", 
        "InactiveExitTimestampMonotonic": "18689167576", 
        "JobTimeoutAction": "none", 
        "JobTimeoutUSec": "0", 
        "KillMode": "process", 
        "KillSignal": "15", 
        "LimitAS": "18446744073709551615", 
        "LimitCORE": "18446744073709551615", 
        "LimitCPU": "18446744073709551615", 
        "LimitDATA": "18446744073709551615", 
        "LimitFSIZE": "18446744073709551615", 
        "LimitLOCKS": "18446744073709551615", 
        "LimitMEMLOCK": "65536", 
        "LimitMSGQUEUE": "819200", 
        "LimitNICE": "0", 
        "LimitNOFILE": "18446744073709551615", 
        "LimitNPROC": "18446744073709551615", 
        "LimitRSS": "18446744073709551615", 
        "LimitRTPRIO": "0", 
        "LimitRTTIME": "18446744073709551615", 
        "LimitSIGPENDING": "3792", 
        "LimitSTACK": "18446744073709551615", 
        "LoadState": "loaded", 
        "MainPID": "23792", 
        "MemoryAccounting": "no", 
        "MemoryCurrent": "104173568", 
        "MemoryLimit": "18446744073709551615", 
        "MountFlags": "0", 
        "Names": "docker.service", 
        "NeedDaemonReload": "no", 
        "Nice": "0", 
        "NoNewPrivileges": "no", 
        "NonBlocking": "no", 
        "NotifyAccess": "main", 
        "OOMScoreAdjust": "0", 
        "OnFailureJobMode": "replace", 
        "PermissionsStartOnly": "no", 
        "PrivateDevices": "no", 
        "PrivateNetwork": "no", 
        "PrivateTmp": "no", 
        "ProtectHome": "no", 
        "ProtectSystem": "no", 
        "RefuseManualStart": "no", 
        "RefuseManualStop": "no", 
        "RemainAfterExit": "no", 
        "Requires": "docker.socket basic.target", 
        "Restart": "always", 
        "RestartUSec": "2s", 
        "Result": "success", 
        "RootDirectoryStartOnly": "no", 
        "RuntimeDirectoryMode": "0755", 
        "SameProcessGroup": "no", 
        "SecureBits": "0", 
        "SendSIGHUP": "no", 
        "SendSIGKILL": "yes", 
        "Slice": "system.slice", 
        "StandardError": "inherit", 
        "StandardInput": "null", 
        "StandardOutput": "journal", 
        "StartLimitAction": "none", 
        "StartLimitBurst": "3", 
        "StartLimitInterval": "60000000", 
        "StartupBlockIOWeight": "18446744073709551615", 
        "StartupCPUShares": "18446744073709551615", 
        "StatusErrno": "0", 
        "StopWhenUnneeded": "no", 
        "SubState": "running", 
        "SyslogLevelPrefix": "yes", 
        "SyslogPriority": "30", 
        "SystemCallErrorNumber": "0", 
        "TTYReset": "no", 
        "TTYVHangup": "no", 
        "TTYVTDisallocate": "no", 
        "TasksAccounting": "no", 
        "TasksCurrent": "9", 
        "TasksMax": "18446744073709551615", 
        "TimeoutStartUSec": "0", 
        "TimeoutStopUSec": "0", 
        "TimerSlackNSec": "50000", 
        "Transient": "no", 
        "TriggeredBy": "docker.socket", 
        "Type": "notify", 
        "UMask": "0022", 
        "UnitFilePreset": "disabled", 
        "UnitFileState": "enabled", 
        "WantedBy": "multi-user.target", 
        "Wants": "network-online.target system.slice", 
        "WatchdogTimestamp": "Thu 2020-05-14 15:55:00 UTC", 
        "WatchdogTimestampMonotonic": "18689842261", 
        "WatchdogUSec": "0"
    }
}
META: ran handlers
META: ran handlers

PLAY RECAP ******************************************************************************************************************************
docker                     : ok=20   changed=11   unreachable=0    failed=0    skipped=0    rescued=0    ignored=1   
tomcat                     : ok=7    changed=2    unreachable=0    failed=0    skipped=1    rescued=0    ignored=0   

